window.__require=function e(t,i,n){function a(r,s){if(!i[r]){if(!t[r]){var l=r.split("/");if(l=l[l.length-1],!t[l]){var h="function"==typeof __require&&__require;if(!s&&h)return h(l,!0);if(o)return o(l,!0);throw new Error("Cannot find module '"+r+"'")}r=l}var d=i[r]={exports:{}};t[r][0].call(d.exports,function(e){return a(t[r][1][e]||e)},d,d.exports,e,t,i,n)}return i[r].exports}for(var o="function"==typeof __require&&__require,r=0;r<n.length;r++)a(n[r]);return a}({BezierData:[function(e,t,i){"use strict";function n(e){return s(e)||r(e)||o(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return l(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(e,t):void 0}}function r(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function s(e){if(Array.isArray(e))return l(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"0bdd4Tm8mxMCLzyMc12Tebc","BezierData");var h=e("Bezier"),d=function(){var e={},t=null,i=null,a=[],o={time:2,length:0,points:[]},r=new Map,s=null,l=0,g=null,m=2,c=100,u={width:glGame.width,height:glGame.height};e.init=function(e,n,a,o,r,s,l,h,d){this.clearAllBezier(),t=e,i=n,g=a,o&&r&&s&&y(o,r,s,l,h,d)},e.getResolution=function(e){return u},e.setResolution=function(e,t){return u={width:e,height:t}},e.setPointCount=function(e){c=e},e.setBezierCurveType=function(e){m=e},e.setDeleteTarget=function(e){s=e},e.addBezierCurve=function(e){a.push(e),console.log("bezierCurveLists",a)},e.getBezierCurveType=function(){return m},e.getBezierCurveLists=function(){return a},e.getBezierCurveData=function(){return o},e.setBezierCurveRunTime=function(e){o.time=e},e.isLastCurve=function(){return a.length<=1},e.createCurve=function(e,t){var i,n;null==t?(i=cc.v2(e.x-35,e.y-35),n=e):(i=t.controlPos,n=t.endPos);var o={start:a[a.length-1].end,control:p(lcl.Ident.control,i),end:p(lcl.Ident.point,n)};a.push(o),this.saveToPointCurveDict(o),console.log("\u521b\u5efa\u4e8c\u9636\u8d1d\u585e\u5c14\u66f2\u7ebf->",a)},e.createCurveForImport=function(e,t,i,n,o,r){var s=p(lcl.Ident.control,t),l=p(lcl.Ident.point,i),h=a[a.length-1].end;h.speed=n,s.speed=o,l.speed=r;var d={start:h,control:s,end:l};a.push(d),this.saveToPointCurveDict(d),console.log("\u521b\u5efa\u4e8c\u9636\u8d1d\u585e\u5c14\u66f2\u7ebf->",a)},e.createThirdOrderCurve=function(e){var t=a[a.length-1].end,i=p(lcl.Ident.control,e),n=cc.v2(200,200).add(t.position);n.x=Math.min(u.width/2,n.x),n.y=Math.min(u.height/2,n.y);var o={start:t,control1:p(lcl.Ident.control,n,!1),control2:i,end:p(lcl.Ident.point,e)};a.push(o),this.saveToPointCurveDict(o),console.warn("\u521b\u5efa\u4e09\u9636\u8d1d\u585e\u5c14\u66f2\u7ebf->",a)},e.saveToPointCurveDict=function(e){var t;for(var i in e){var n=e[i];(t=r.has(n)?r.get(n):{})[i+"Curve"]=e,r.set(n,t)}console.log("pointCurveDict",r)},e.deletePoint=function(){if(r.has(s)){var e=f(s);"center"==e?G(s):"start"==e?C(s):"end"==e&&v(s)}},e.saveBezierPath=function(){o.length=0,o.points=[];for(var e=0,t=a.length;e<t;e++){var i,r=a[e],s=new h(Object.values(r),2),l=s.getPoints(c),d=s.getCurveLength();o.length+=d,(i=o.points).push.apply(i,n(l))}glGame.editor.status("\u4fdd\u5b58\u6210\u529f!")},e.clearAllBezier=function(){console.log("clearAllBezier"),a=[],r.forEach(function(e,t){t&&t.destroy()}),r.clear(),l=0};var p=function(e,n){var a,o,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e==lcl.Ident.point?((a=cc.instantiate(t)).ident=lcl.Ident.point,o="point"):e==lcl.Ident.control&&((a=cc.instantiate(i)).ident=lcl.Ident.control,o="control",r&&lcl.NodeEvents.setMoveTargetNode(a));var s=l++;a.name=o+"_"+s,a.parent=g,a.setPosition(n),lcl.NodeEvents.addPointDeleteEvents(a),lcl.NodeEvents.addDragEvents(a);var h=new cc.Node;return h.parent=a,h.y=20,h.addComponent(cc.Label).string=s,a},y=function(e,t,i,n,a,o){var r=p(lcl.Ident.point,e),s=p(lcl.Ident.control,t),l=p(lcl.Ident.point,i);r.speed=n,s.speed=a,l.speed=o,lcl.NodeEvents.setMoveTargetNode(null);var h={start:r,control:s,end:l};d.addBezierCurve(h),d.saveToPointCurveDict(h)},f=function(e){var t=r.get(e);if(t){if(t.startCurve&&t.endCurve)return"center";if(t.startCurve)return"start";if(t.endCurve)return"end"}return 0},G=function(e){if(console.warn("\u5220\u9664\u7684\u662f\u4e2d\u95f4\u70b9"),r.has(e)){var t=r.get(e),i=t.endCurve,n=t.startCurve;i.end=n.end;var a=r.get(i.end);for(var o in a.endCurve=i,r.delete(e),n)if("end"!=o){var s=n[o];r.delete(s),s.destroy()}N(n)}},C=function(e){if(console.warn("\u5220\u9664\u7684\u662f\u8d77\u70b9"),r.has(e)){var t=r.get(e),i=t.startCurve;t.endCurve=null;var n=r.get(i.end);for(var a in n.endCurve=null,i)if("end"!=a){var o=i[a];r.delete(o),o.destroy()}N(i)}},v=function(e){if(console.log("\u5220\u9664\u7684\u662f\u7ec8\u70b9"),r.has(e)){l-=2;var t=r.get(e),i=t.endCurve;t.startCurve=null;var n=r.get(i.start);for(var a in n.startCurve=null,i)if("start"!=a){var o=i[a];r.delete(o),o.destroy()}N(i)}},N=function(e){for(var t=0,i=a.length;t<i;t++){if(a[t]===e)return void a.splice(t,1)}};return e}();t.exports=d,cc._RF.pop()},{Bezier:"Bezier"}],Bezier:[function(e,t,i){"use strict";cc._RF.push(t,"d039dqa1TtIq7lmvTjJ9ncx","Bezier");t.exports=function(e){var t,i,n,a,o={},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,s=e;function l(e){for(var t=1,i=1;i<=e;i++)t*=i;return t}var h=function(e,o){var r=a/o,h=0,d=0,g=s.length-1;s.forEach(function(e,t){t?(h+=l(g)/l(t)/l(g-t)*e.x*Math.pow(1-r,g-t)*Math.pow(r,t),d+=l(g)/l(t)/l(g-t)*e.y*Math.pow(1-r,g-t)*Math.pow(r,t)):(h+=e.x*Math.pow(1-r,g-t)*Math.pow(r,t),d+=e.y*Math.pow(1-r,g-t)*Math.pow(r,t))});var m=Math.sqrt(Math.pow(n.x-h,2)+Math.pow(n.y-d,2)),c={x:h,y:d,length:m};t.push(c),n=c,i+=m,a+=e};return o.getPoints=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;t=[],i=a=0,n={x:e[0].x,y:e[0].y,length:0};for(var s=r/o,l=0,d=o+1;l<d;l++)h(s,r);return t},o.getCurveLength=function(){return i},o},cc._RF.pop()},{}],Drag:[function(e,t,i){"use strict";cc._RF.push(t,"bb77020BMVAn5u7a8I2PlSJ","Drag"),cc.Class({extends:cc.Component,properties:{isSelf:{default:!1,displayName:"\u62d6\u81ea\u5df1or\u7236\u7c7b",tooltip:"\u62d6\u52a8\u81ea\u5df1 true \u7236\u7c7b false",type:cc.boolean},isEnterCtrl:{default:!1,displayName:"\u662f\u5426\u8981\u6309\u4e0bCtrl",tooltip:" true \u9700\u8981 false\u4e0d\u9700\u8981",type:cc.boolean}},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){e.opacity=255,e.node.parent.getComponent(cc.Widget)&&(e.node.parent.getComponent(cc.Widget).enabled=!1);var i=t.touch.getDelta();e.isEnterCtrl&&!glGame.Ctrl||(e.isSelf?(e.node.x+=i.x,e.node.y+=i.y):(e.node.parent.x+=i.x,e.node.parent.y+=i.y))},this.node)}}),cc._RF.pop()},{}],Enum:[function(e,t,i){"use strict";cc._RF.push(t,"c328dsGctNCsqdKLfSajdEf","Enum"),t.exports={Ident:{point:0,control:1,window:2},BezierCurveType:{SecondOrder:2,ThirdOrder:3}},cc._RF.pop()},{}],EventListener:[function(e,t,i){"use strict";cc._RF.push(t,"79eceW6rG9Hza7PDc4t2EIb","EventListener");var n=function(){var e={},t={};return e.on=function(e,i){t[e]=t[e]||[],t[e].push(i)},e.emit=function(e,i){if(t[e])for(var n=0,a=t[e].length;n<a;n++)t[e][n].call(null,i)},e.off=function(e,i){for(var n=t[e],a=0,o=n.length;a<o;a++)n[a]===i&&n.splice(a,1)},e}();t.exports=n,cc._RF.pop()},{}],LineItem:[function(e,t,i){"use strict";cc._RF.push(t,"4b2bfQB6IVGL5Mse/8pN0RI","LineItem"),cc.Class({extends:cc.Component,properties:{type:0},start:function(){var e=this,t=glGame.editor.node.getChildByName("tips").getChildByName("layout").getChildByName("lab_desc_id"),i=glGame.editor.node.getChildByName("tips").getChildByName("layout").getChildByName("lab_id");this.node.on(cc.Node.EventType.MOUSE_ENTER,function(n){if(1==e.type){e.node.getChildByName("moveHeight").active=!0,glGame.editor.node.getChildByName("tips").active=!0,i.active=!0;var a=glGame.FList[e.node.groupID];t.getComponent(cc.Label).string="\u9c7c\u7ec4ID",i.getComponent(cc.Label).string=Number(e.node.groupID)+"",glGame.editor.node.getChildByName("tips").getChildByName("layout2").getChildByName("lab_d").getComponent(cc.Label).string=a?a.desc+"":"",glGame.editor.node.getChildByName("tips").getChildByName("layout2").getChildByName("lab_d").active=!0,glGame.editor.node.getChildByName("tips").getChildByName("layout2").getChildByName("lab_desc").active=!0,glGame.editor.node.getChildByName("tips").getChildByName("bg").height=150,glGame.editor.node.getChildByName("tips").getChildByName("bg").width=300}if(3==e.type){e.node.getChildByName("moveHeight").active=!0,glGame.editor.node.getChildByName("tips").active=!0,i.active=!0;var o=glGame.FList[glGame.currGIndex].fishLine[Number(e.node.lineID)];i.getComponent(cc.Label).string=Number(e.node.lineID)+"";var r="\u627e\u4e0d\u5230\u914d\u7f6e "+o.lineID;null!=o&&glGame.fishTable[Number(o.fishTypeId)]?r=glGame.fishTable[Number(o.fishTypeId)].fishName:null!=glGame.fishTable[e.node.fishTypeId]?r=glGame.fishTable[e.node.fishTypeId].fishName:cc.error(" \u627e\u4e0d\u5230\u914d\u7f6e,\u8bf7\u68c0\u67e5\u9c7c\u8868\u914d\u7f6e info : ",o,"     fishTable     ",glGame.fishTable),t.getComponent(cc.Label).string=r+"",glGame.editor.node.getChildByName("tips").getChildByName("layout2").getChildByName("lab_d").getComponent(cc.Label).string=o?o.desc+"":"",glGame.editor.node.getChildByName("tips").getChildByName("layout2").getChildByName("lab_d").active=!0,glGame.editor.node.getChildByName("tips").getChildByName("layout2").getChildByName("lab_desc").active=!0,glGame.editor.node.getChildByName("tips").getChildByName("bg").height=150,glGame.editor.node.getChildByName("tips").getChildByName("bg").width=300}},this.node),this.node.on(cc.Node.EventType.MOUSE_MOVE,function(t){var i=glGame.editor.node.convertToNodeSpaceAR(t.getLocation());1==e.type&&(i.x=i.x+glGame.editor.node.getChildByName("tips").width+10,glGame.editor.node.getChildByName("tips").setPosition(i)),3==e.type&&(i.x-=10,glGame.editor.node.getChildByName("tips").setPosition(i))},this.node),this.node.on(cc.Node.EventType.MOUSE_LEAVE,function(t){e.node.getChildByName("moveHeight").active=!1,glGame.editor.node.getChildByName("tips").active=!1},this.node)}}),cc._RF.pop()},{}],NodeEvents:[function(e,t,i){"use strict";cc._RF.push(t,"09ffeHRa95D+4fI4+Flx7Mh","NodeEvents");var n=function(){var e={},t=null,i=null,n=!0;function a(e){return glGame.editor.node.getChildByName("deskUI").convertToNodeSpaceAR(e.getLocation())}function o(e){return e.ident==lcl.Ident.point}function r(e){var t=lcl.BezierData.getResolution(),i=t.width/2,n=t.height/2;return e.x>-i&&e.x<i&&e.y>-n&&e.y<n}function s(e,t){var i=!1;switch(t.ident){case lcl.Ident.point:case lcl.Ident.control:i=r(e);break;case lcl.Ident.window:i=!0}return i}return e.setMoveTargetNode=function(e){t=e},e.setOperateStatus=function(e){n=e},e.addDragEvents=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;e.on(cc.Node.EventType.MOUSE_DOWN,function(e){glGame.Ctrl||(e.stopPropagation(),e.getButton()==cc.Event.EventMouse.BUTTON_LEFT&&(t=n,i=!0))});e.parent.on(cc.Node.EventType.MOUSE_MOVE,function(e){if(i&&t){n.opacity=100,cc.game.canvas.style.cursor="all-scroll";var o=a(e);s(o,t)&&t.setPosition(o)}else cc.game.canvas.style.cursor="auto"}),e.on(cc.Node.EventType.MOUSE_LEAVE,function(e){n.opacity=255,cc.game.canvas.style.cursor="auto"});e.on(cc.Node.EventType.MOUSE_UP,function(e){i=!1,t=null,cc.game.canvas.style.cursor="auto"})},e.addPointDeleteEvents=function(e){e.on(cc.Node.EventType.MOUSE_DOWN,function(e){if(!glGame.Ctrl)return e.getButton()==cc.Event.EventMouse.BUTTON_RIGHT?(e.isShowPointMenuDeleteAndTime=o(e.target),e.target.pos=a(e),lcl.BezierData.setDeleteTarget(e.target),void lcl.Events.emit("showPointMenuView",e)):void 0})},e.addCanvasTouchEvents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cc.find("Canvas");e.on(cc.Node.EventType.MOUSE_DOWN,function(e){if(glGame.currDownEvent=e,!glGame.Ctrl)if(glGame.currentFish){if(e.getButton()==cc.Event.EventMouse.BUTTON_RIGHT){e.stopPropagation();var t=glGame.editor.node.getChildByName("leftClickMenu");t.setPosition(a(e)),t.active=!0}if(e.getButton()==cc.Event.EventMouse.BUTTON_LEFT)return e.stopPropagation(),void(glGame.editor.node.getChildByName("leftClickMenu").active=!1)}else glGame.editor.status("\u8bf7\u521b\u5efa\u4e00\u6761\u9c7c",glGame.Color.RED)}),e.on("addNewPoint",function(e){if(e.stopPropagation(),null==e.bzierData){e.target;var t=a(e);if(!r(t))return;n||lcl.Events.emit("hidePointMenuView"),lcl.BezierData.getBezierCurveType()==lcl.BezierCurveType.SecondOrder&&(lcl.BezierData.createCurve(t),cc.warn(">>> \u4e8c\u9636 ----- ")),glGame.isAdd=!0,lcl.BezierData.getBezierCurveType()==lcl.BezierCurveType.ThirdOrder&&(lcl.BezierData.createThirdOrderCurve(t),cc.warn(">>> \u4e09\u9636 ----- ")),i=!0}else n||lcl.Events.emit("hidePointMenuView"),glGame.isAdd=!0,lcl.BezierData.getBezierCurveType()==lcl.BezierCurveType.SecondOrder&&lcl.BezierData.createCurve(null,e.bzierData),i=!0}),e.on(cc.Node.EventType.MOUSE_MOVE,function(e){if(glGame.currentFish){e.target;var n=a(e);lcl.Events.emit("setMouseLocation",n),i&&t&&s(n,t)&&t.setPosition(n)}else glGame.editor.status("\u8bf7\u521b\u5efa\u4e00\u6761\u9c7c",glGame.Color.RED)}),e.on(cc.Node.EventType.MOUSE_UP,function(e){glGame.currentFish?(e.target,i=!1,t=null):glGame.editor.status("\u8bf7\u521b\u5efa\u4e00\u6761\u9c7c",glGame.Color.RED)})},e}();t.exports=n,cc._RF.pop()},{}],WindowDrag:[function(e,t,i){"use strict";cc._RF.push(t,"11421msw7NI2YNiHBA0gwXw","WindowDrag"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.dobbClick=0,this.dobbClickTime=0},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e){window.ipcRenderer&&window.ipcRenderer.send("movewindow_start")},this.node),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(e){window.ipcRenderer&&window.ipcRenderer.send("movewindow_end")},this.node),this.node.on(cc.Node.EventType.TOUCH_END,function(e){window.ipcRenderer&&window.ipcRenderer.send("movewindow_end")},this.node),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){var t=e.touch.getDelta();window.ipcRenderer&&window.ipcRenderer.send("movewindow_move",{x:t.x,y:t.y})},this.node),this.node.on(cc.Node.EventType.MOUSE_DOWN,function(t){e.dobbClickTime=.1,e.dobbClick++},this.node),this.node.on(cc.Node.EventType.MOUSE_UP,function(t){e.dobbClick-=10},this.node)},update:function(e){this.dobbClickTime>0&&(this.dobbClickTime+=e,this.dobbClickTime<.35&&-18==this.dobbClick&&(this.dobbClick=0,this.dobbClickTime=0,window.ipcRenderer&&window.ipcRenderer.send("maxWindow")),this.dobbClickTime>.6&&(this.dobbClickTime=0,this.dobbClick=0))}}),cc._RF.pop()},{}],drawBezier:[function(e,t,i){"use strict";cc._RF.push(t,"3c1aeFLOLRFrrQU9tFTJ/Kg","drawBezier"),window.lcl={},window.lcl.Bezier=e("./Bezier"),window.lcl.BezierData=e("./BezierData"),window.lcl.NodeEvents=e("./NodeEvents"),window.lcl.Events=e("./EventListener"),window.lcl.Ident=e("./Enum").Ident,window.lcl.BezierCurveType=e("./Enum").BezierCurveType,cc.Class({extends:cc.Component,properties:{graphicsNode:cc.Node,box:cc.Node,point:cc.Prefab,control:cc.Prefab,bezierColor:new cc.Color(255,0,0),lineColor:new cc.Color(0,255,255),infoWindow:cc.Node,paper:cc.Node,msg:cc.Node,timeInfo:cc.Label,mouseLocation:cc.Label,pointMenu:cc.Node},onLoad:function(){glGame.drawBezier=this,this.currPoint=null},clearCurrFishLine:function(){lcl.BezierData.clearAllBezier(),lcl.NodeEvents.setMoveTargetNode(null)},startDraw:function(){glGame.drawStart=!0,this.init(),lcl.Events.on("setMouseLocation",this.setMouseLocation.bind(this)),lcl.Events.on("showPointMenuView",this.showPointMenuView.bind(this)),lcl.Events.on("hidePointMenuView",this.hidePointMenuView.bind(this)),this.node.parent.on(cc.Node.EventType.MOUSE_UP,function(e){lcl.BezierData.saveBezierPath(),glGame.drawBezier.saveDataToFishPointList()})},init:function(){this.infoWindow.zIndex=10,this.notice=this.infoWindow.getChildByName("notice").getComponent(cc.Label),this.fileInputBox=this.infoWindow.getChildByName("Input").getChildByName("fileEditBox").getComponent(cc.EditBox);var e=this.node.getChildByName("controlPanel");this.moveBtn=e.getChildByName("moveBtn"),this.smoothnessInputBox=e.getChildByName("smoothnessInput").getChildByName("EditBox").getComponent(cc.EditBox),this.runTimeInputBox=e.getChildByName("runTimeInput").getChildByName("EditBox").getComponent(cc.EditBox),this.resolutionWidthInputBox=e.getChildByName("resolution").getChildByName("width").getComponent(cc.EditBox),this.resolutionHeightInputBox=e.getChildByName("resolution").getChildByName("height").getComponent(cc.EditBox),this.initGraphics(),this.initNodeEvents(),this.hideInfoWindow(),this.addPointMenuBtnEvents(),this.initResolution(),glGame.isImport||lcl.BezierData.init(this.point,this.control,this.node,glGame.startPoint,glGame.controlPoint,glGame.endPoint)},initDataFormFishPointList:function(e){glGame.drawStart||this.startDraw(),lcl.BezierData.clearAllBezier(),lcl.NodeEvents.setMoveTargetNode(null);for(var t=0;t<e.posArray.length;t++){var i=cc.v2(e.posArray[t].x,e.posArray[t].y),n=e.moveList[t];if(void 0!=e.posArray[t+1]&&void 0!=e.posArray[t+2]){var a=cc.v2(e.posArray[t+1].x,e.posArray[t+1].y),o=cc.v2(e.posArray[t+2].x,e.posArray[t+2].y),r=e.moveList[t+1],s=e.moveList[t+2];t++,++t<3?(glGame.startPoint=i,glGame.controlPoint=a,glGame.endPoint=o,lcl.BezierData.init(this.point,this.control,this.node,e.posArray[0],e.posArray[1],e.posArray[2],n,r,s)):lcl.BezierData.createCurveForImport(i,a,o,n,r,s)}}},initDataToFishPointList:function(){},saveDataToFishPointList:function(){if(this.path=lcl.BezierData.getBezierCurveLists(),void 0!=glGame.currentFish&&void 0!=glGame.currentFish.lineID){var e=glGame.currentFish.lineID;if(void 0!=e&&void 0!=this.path&&0!=this.path.length){if(glGame.FList[glGame.currGIndex].fishLine[glGame.currentFish.lineID].posArray.length>3){for(null==glGame.RestoreFList&&(glGame.RestoreFList=[],glGame.RestoreIndex=0),glGame.RestoreFList.push(JSON.parse(JSON.stringify(glGame.FList)));glGame.RestoreFList.length>10;)glGame.RestoreFList.shift();1==glGame.isAdd?(glGame.RestoreIndex++,cc.error(">> \u6dfb\u52a0\u6570\u636e "+glGame.RestoreIndex)):(glGame.RestoreIndex--,cc.error(">> \u5220\u9664\u6570\u636e "+glGame.RestoreIndex))}var t=glGame.FList[glGame.currGIndex].fishLine[e].rate,i=glGame.getPosArrayAndmoveList(this.path,e,t),n=i.posArray,a=i.moveList;glGame.FList[glGame.currGIndex].fishLine[glGame.currentFish.lineID].runTime=glGame.getMaxIndexByTime(n,a),glGame.FList[glGame.currGIndex].fishLine[glGame.currentFish.lineID].posArray=n,glGame.FList[glGame.currGIndex].fishLine[glGame.currentFish.lineID].moveList=a,cc.sys.localStorage.setItem("glGame.FList",JSON.stringify(glGame.FList)),cc.sys.localStorage.setItem("glGame.currGIndex",JSON.stringify(glGame.currGIndex))}}},getPostFormPath:function(e){return{startPos:{x:this.path[e].start.x,y:this.path[e].start.y},controlPos:{x:this.path[e].control.x,y:this.path[e].control.y},endPos:{x:this.path[e].end.x,y:this.path[e].end.y}}},update:function(e){glGame.drawStart&&(lcl.NodeEvents.setOperateStatus(!this.pointMenu.active),this.drawBezierAll(),this.isStartRun&&this.setCountTimeLabel(e))},initResolution:function(){this.resolution=lcl.BezierData.getResolution(),this.resolutionWidthInputBox.string=this.resolution.width,this.resolutionHeightInputBox.string=this.resolution.height,this.setPaperSize()},initGraphics:function(){this.ctx=this.graphicsNode.getComponent(cc.Graphics),this.ctx.lineWidth=4},initNodeEvents:function(){glGame.paintingArea=this.node.getChildByName("PaintingArea"),lcl.NodeEvents.addCanvasTouchEvents(glGame.paintingArea)},drawBezierAll:function(){this.ctx.clear();for(var e=lcl.BezierData.getBezierCurveLists(),t=0,i=e.length;t<i;t++){var n=e[t],a=Object.keys(n).length;3==a&&this.drawBezier(n.start.position,n.control.position,n.end.position),4==a&&this.drawThirdOrderBezier(n)}},drawBezier:function(e,t,i){this.ctx.moveTo(e.x,e.y),this.ctx.strokeColor=this.bezierColor,this.ctx.quadraticCurveTo(t.x,t.y,i.x,i.y),this.ctx.stroke(),this.ctx.moveTo(i.x,i.y),this.ctx.strokeColor=this.lineColor,this.ctx.lineTo(t.x,t.y),this.ctx.stroke()},drawThirdOrderBezier:function(e){this.ctx.moveTo(e.start.x,e.start.y),this.ctx.strokeColor=this.bezierColor,this.ctx.bezierCurveTo(e.control1.x,e.control1.y,e.control2.x,e.control2.y,e.end.x,e.end.y),this.ctx.stroke(),this.ctx.moveTo(e.start.x,e.start.y),this.ctx.strokeColor=this.lineColor,this.ctx.lineTo(e.control1.x,e.control1.y),this.ctx.stroke(),this.ctx.moveTo(e.end.x,e.end.y),this.ctx.lineTo(e.control2.x,e.control2.y),this.ctx.stroke()},addHideEvents:function(e){var t=this;e.on(cc.Node.EventType.MOUSE_MOVE,function(e){t.hideMouseLocation()})},convertToNodeSpace:function(e){return this.node.convertToNodeSpaceAR(e.getLocation())},addPointMenuBtnEvents:function(){var e=this;this.pointMenu.getChildByName("btn_delete_pointMenu").on(cc.Node.EventType.MOUSE_DOWN,function(t){if(t.stopPropagation(),t.getButton()==cc.Event.EventMouse.BUTTON_LEFT){if(lcl.BezierData.isLastCurve())return void e.showMsg("\u4e0d\u80fd\u5220\u9664\u6700\u540e\u4e00\u4e2a\u66f2\u7ebf!!");e.hidePointMenuView(),glGame.isAdd=!1,cc.error(">>> \u5220\u9664\u8282\u70b9 >>>> 1"),lcl.BezierData.deletePoint(),lcl.BezierData.saveBezierPath()}}),this.pointMenu.getChildByName("btn_submit_pointMenu").on(cc.Node.EventType.MOUSE_DOWN,function(t){t.stopPropagation(),t.getButton()==cc.Event.EventMouse.BUTTON_LEFT&&e.hidePointMenuView()}),this.pointMenu.getChildByName("slider").on("slide",function(t){var i=t.progress*glGame.maxSpeed;e.pointMenu.getChildByName("editbox").getComponent(cc.EditBox).string=Number(i.toFixed(2))+"",e.currPoint.speed=i}),this.pointMenu.getChildByName("editbox").on("text-changed",function(t){var i=t.string;null==i||""==i||isNaN(i)||(e.currPoint.speed=0==Number(i)?glGame.speed:Number(i),e.pointMenu.getChildByName("slider").getComponent(cc.Slider).progress=e.currPoint.speed/glGame.maxSpeed)})},save:function(){""!=this.fileInputBox.string?(this.setNoitce(""),this.computeBezierActions(),this.saveBezierPathToJson(this.fileInputBox.string)):this.setNoitce("\u6587\u4ef6\u540d\u4e0d\u80fd\u4e3a\u7a7a!")},saveBezierPathToJson:function(e){if(cc.sys.isBrowser){var t=JSON.stringify(lcl.BezierData.getBezierCurveData()),i=new Blob([t],{type:"application/json"}),n=document.createElement("a");n.download=e,n.innerHTML="Download File",null!=window.webkitURL?n.href=window.webkitURL.createObjectURL(i):(n.href=window.URL.createObjectURL(i),n.onclick=destroyClickedElement,n.style.display="none",document.body.appendChild(n)),n.click()}},computeBezierActions:function(){var e=lcl.BezierData.getBezierCurveData();this.actionLists=[];for(var t=0,i=e.points.length;t<i;t++){var n=e.points[t],a=n.length/e.length*e.time;n.time=a;var o=cc.moveTo(a,cc.v2(n.x,n.y));this.actionLists.push(o)}},setResolution:function(e,t,i){console.log(e,t,i);var n=Number(e);if(""==e||isNaN(n))return this.showMsg("\u5206\u8fa8\u7387\u53ea\u80fd\u586b\u5199\u6570\u5b57\uff01\uff01\uff01"),void(t.string=this.resolution[i]);this.resolution[i]=n,lcl.BezierData.setResolution(this.resolution.width,this.resolution.height),this.setPaperSize(),lcl.BezierData.init(this.point,this.control,this.node)},setPaperSize:function(){this.paper.width=this.resolution.width,this.paper.height=this.resolution.height},setRunTime:function(e){var t=Number(e);if(""==e||isNaN(t))return this.showMsg("\u8fd0\u884c\u65f6\u95f4\u53ea\u80fd\u586b\u5199\u6570\u5b57\uff01\uff01\uff01"),void(this.runTimeInputBox.string=this.prveRunTime||2);this.prveRunTime=t,lcl.BezierData.setBezierCurveRunTime(t)},setCurveSmoothness:function(e){console.log(e);var t=Number(e);return""==e||isNaN(t)?(this.showMsg("\u66f2\u7ebf\u5e73\u6ed1\u5ea6\u53ea\u80fd\u586b\u5199\u6570\u5b57\uff01\uff01\uff01"),void(this.smoothnessInputBox.string=this.prvePointCount||100)):t<0||t>1e3?(this.showMsg("\u66f2\u7ebf\u5e73\u6ed1\u5ea6\u53d6\u503c\u8303\u56f4\u5728 0 - 1000\uff01"),void(this.smoothnessInputBox.string=this.prvePointCount||100)):(this.prvePointCount=t,void lcl.BezierData.setPointCount(t))},playBezierFishLine:function(){glGame.currentFish.getComponent("fish_Unit").editMove()},updateBezierFishLine:function(){glGame.currentFish.getComponent("fish_Unit").updateData()},showInfoWindow:function(){this.infoWindow.active=!0,this.setNoitce("")},hideInfoWindow:function(){this.infoWindow.active=!1},setNoitce:function(e){this.notice.string=e},showMsg:function(e){var t=this;this.msg.active=!0,this.msg.getComponent(cc.Label).string=e,setTimeout(function(){t.msg&&(t.msg.active=!1)},1e3)},startCountTime:function(){this.isStartRun=!0,this.timeInfo.string=0,this.currentRunTime=0},stopCountTime:function(){this.isStartRun=!1},setCountTimeLabel:function(e){this.currentRunTime=this.currentRunTime+e,this.timeInfo.string="run time: "+this.currentRunTime.toFixed(2)+"s"},showPointMenuView:function(e){glGame.editor.node.getChildByName("leftClickMenu").active=!1,this.pointMenu.active=!0;var t=e.target.pos;t.x+this.pointMenu.width>this.paper.width/2&&(t.x=t.x-(t.x+this.pointMenu.width-this.paper.width/2)),t.y+this.pointMenu.height>this.paper.height/2&&(t.y=t.y-(t.y+this.pointMenu.height-this.paper.height/2)),t.y<-342&&(t.y=-342),this.pointMenu.setPosition(e.target.pos),this.pointMenu.getChildByName("editbox").active=e.isShowPointMenuDeleteAndTime,this.pointMenu.getChildByName("btn_delete_pointMenu").active=e.isShowPointMenuDeleteAndTime,this.currPoint=e.target;var i,n=Number(this.currPoint.children[0].getComponent(cc.Label).string),a=glGame.FList[glGame.currGIndex].fishLine[glGame.currentFish.lineID].moveList,o=glGame.FList[glGame.currGIndex].fishLine[glGame.currentFish.lineID].posArray;if(0==n)i=a[n];else{var r=n/2*3,s=a.length-1;if(s==r)i=a[s];else i=a[n+.5*n+1]}void 0==this.currPoint.speed&&(void 0==i&&(i=glGame.speed),this.currPoint.speed=i,0==this.currPoint.speed&&(this.currPoint.speed=glGame.speed)),this.pointMenu.getChildByName("editbox").getComponent(cc.EditBox).string=this.currPoint.speed+"",this.pointMenu.getChildByName("editboxX").getComponent(cc.EditBox).string=o[n].x+"",this.pointMenu.getChildByName("editboxY").getComponent(cc.EditBox).string=o[n].y+"",this.pointMenu.getChildByName("slider").getComponent(cc.Slider).progress=this.currPoint.speed/glGame.maxSpeed},hidePointMenuView:function(e,t){void 0!=t&&1==t||(this.currPoint.x=Number(this.pointMenu.getChildByName("editboxX").getComponent(cc.EditBox).string),this.currPoint.y=Number(this.pointMenu.getChildByName("editboxY").getComponent(cc.EditBox).string)),this.pointMenu.active=!1},setMouseLocation:function(e){this.mouseLocation.node.active=!0,this.mouseLocation.node.setPosition(e),this.mouseLocation.string="x:".concat(e.x.toFixed(0)," y:").concat(e.y.toFixed(0))},hideMouseLocation:function(){this.mouseLocation.node.active=!1},setCurveType:function(e){console.log(e),lcl.BezierData.setBezierCurveType(e.node._name)}}),cc._RF.pop()},{"./Bezier":"Bezier","./BezierData":"BezierData","./Enum":"Enum","./EventListener":"EventListener","./NodeEvents":"NodeEvents"}],editor:[function(e,t,n){"use strict";cc._RF.push(t,"9a055aIv3RHo5mwG9BN3rJV","editor"),cc.Class({extends:cc.Component,properties:{tmpData:cc.JsonAsset},onLoad:function(){var e=this;if(window.ipcRenderer)for(var t=["btn_newGroup","btn_save","btn_out","btn_in","btn_importExcel","btn_inBg","btn_about","btn_deleteLine","btn_showMc","btn_setting","btn_revoke","btn_redo","btn_fishList","btn_resList","btn_lineList","btn_out2","btn_out3","btn_out4","btn_showFishResEditView","file-opened-fishConfig","btn_restore"],i=0;i<t.length;i++)window.ipcRenderer.on(t[i],function(t,i){e.click({currentTarget:{name:i}})});if(cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),glGame.currBezierID=0,glGame.addPoint=!1,glGame.subPoint=!1,glGame.editor=this,this.currAtl=null,glGame.currentFish=null,glGame.GFishList=[],this.clickFishTableTypeFishId=null,window.ipcRenderer&&(window.ipcRenderer.on("file-opened-atlasPath",function(e,t){t&&cc.sys.localStorage.setItem("atlasPath",t)}),window.ipcRenderer.on("file-opened-fishTableExcelPath",function(e,t){t&&cc.sys.localStorage.setItem("fishTableExcelPath",t)}),window.ipcRenderer.on("file-opened-fishline",function(t,i){if(i){var n=JSON.parse(i);e.importJson(n)}}),window.ipcRenderer.on("file-opened-readOutSettingData",function(t,i){i&&(glGame.OutSettingData=JSON.parse(i),e.initOrReFreshOutSettingView(),glGame.editor.show("\u5bfc\u5165\u6210\u529f\uff01"))}),window.ipcRenderer.on("file-opened-fishexcel",function(t,i){i&&(glGame.fishTable=JSON.parse(i),console.log("glGame.fishTable : ",glGame.fishTable),e.creatorFishForResView())}),window.ipcRenderer.on("file-opened-bg-data",function(e,t){console.warn("> 1 \u5bfc\u5165 \u80cc\u666f  data ",t);var i=new Image;i.src=t,i.onload=function(){var e=new cc.Texture2D;e.initWithElement(i),e.handleLoadedTexture(),glGame.drawBezier.node.getChildByName("Testbg").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e),glGame.drawBezier.node.getChildByName("Testbg").active=!0}}),window.ipcRenderer.on("file-opened-bg",function(e,t){console.warn("> 2 \u5bfc\u5165 \u80cc\u666f  url "+t),console.warn("> \u5bfc\u5165 \u80cc\u666f  url "+t),cc.loader.load(t,function(e,t){var i=new cc.SpriteFrame;i.setTexture(t),glGame.drawBezier.node.getChildByName("Testbg").getComponent(cc.Sprite).spriteFrame=i,glGame.drawBezier.node.getChildByName("Testbg").active=!0})})),window.ipcRenderer)window.ipcRenderer.on("file-opened-fishRes",this.openedFishRes.bind(this));else{cc.warn(">>>\u6b63\u5728debug \u6a21\u5f0f \u6a21\u62df\u6253\u5f00\u9c7c\u8d44\u6e90\u5217\u8868: \uff08\u524d\u7f6e\u6761\u4ef6 \u672c\u5730http \u670d\u52a1\u5668\u5df2\u6253\u5f00\uff1ahttp://127.0.0.1:8456 \uff09");for(var n=[],a=1;a<32;a++)n.push("fish"+a+".png");var o={fileList:n,fileServerUrl:"http://127.0.0.1:8456",code:0,msg:"ok"},r=JSON.stringify(o);this.openedFishRes(null,r,function(){glGame.fishTable=glGame.fishTableTest,console.log("glGame.fishTable : ",glGame.fishTable),e.creatorFishForResView()})}this.node.getChildByName("fishGroupCanteiner").getChildByName("searchGEditBox").on("text-changed",function(e){if(glGame.SearchFList={},""==e.string)return glGame.editor.status("\u8bf7\u8f93\u5165\u5b57\u7b26"),void glGame.editor.updateGroupToCanteinerAndFishLineToCanvas();var t=0,i=glGame.FList;for(var n in i)-1!=i[n].desc.indexOf(e.string)&&void 0==glGame.SearchFList[n]&&(t++,glGame.SearchFList[n]=i[n]);if(glGame.editor.status("\u9c7c\u7ec4\u641c\u7d22\u7ed3\u679c: \u627e\u5230"+t+"\u7ec4"),t>0)for(var a in glGame.SearchFList){var o=glGame.SearchFList[a];for(var r in o){glGame.currLineItem=o[r],glGame.editor.updateGroupToCanteinerAndFishLineToCanvas();break}}}),this.node.getChildByName("fishLineCanteiner").getChildByName("searchLEditBox").on("text-changed",function(e){if(glGame.searchList={},""==e.string)return glGame.editor.status("\u8bf7\u8f93\u5165\u5b57\u7b26"),void glGame.editor.updateFishLineToCanvas();var t;glGame.FList[glGame.currGIndex]&&(t=glGame.FList[glGame.currGIndex].fishLine);var i=0;if(t)for(var n in t){var a=t[n];null!=a.desc&&-1!=a.desc.indexOf(e.string)&&void 0==glGame.searchList[a.lineID]&&(glGame.searchList[a.lineID]=a,i++)}glGame.editor.status("\u9c7c\u7ebf\u641c\u7d22\u7ed3\u679c: \u627e\u5230"+i+"\u6761\u9c7c\u7ebf"),glGame.editor.updateFishLineToCanvas()})},randomNum:function(e,t){var i=Number(t)-Number(e),n=Math.random();return e+Math.round(n*i)},openedFishRes:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;glGame.editor.node.getChildByName("loadingView").getChildByName("lab").getComponent(cc.Label).string="\u6b63\u5728\u5bfc\u5165\u8d44\u6e90...\u8bf7\u7a0d\u7b49",glGame.editor.node.getChildByName("loadingView").active=!0;var n=JSON.parse(t);0==n.code?(glGame.resFileList=n.fileList,glGame.fileServerUrl=n.fileServerUrl,glGame.getAtlasAll=[],console.warn(">>\u6587\u4ef6\u670d\u52a1\u5668\u8bbe\u7f6e\u5b8c\u6210 URL: ",glGame.fileServerUrl),console.warn("tmpList:"),console.warn(glGame.resFileList),glGame.editor.status("\u6b63\u5728\u51c6\u5907\u5bfc\u5165\u56fe\u96c6..."),glGame.resFileList&&function(){for(var e=glGame.resFileList.length,t=0,n=0;n<e;n++){var a=glGame.resFileList[n].split(".")[0];glGame.getAtlasAll.push(a),glGame.loadingAtlas(a,glGame.fileServerUrl,function(){++t==e&&(glGame.editor.status("\u5bfc\u5165\u7ed3\u675f\uff01 \u6210\u529f\u5bfc\u5165\uff1a"+t+"\u4e2a\u56fe\u96c6"),glGame.editor.node.getChildByName("loadingView").active=!1,glGame.editor.node.getChildByName("fishTableImport").active=!0,i&&i())})}}()):glGame.editor.alert(n.msg)},getFishResConfig:function(e){if(glGame.fishTable)return glGame.fishTable[Number(e)];glGame.editor.alert("\u8bf7\u5bfc\u5165\u9c7c\u56fe\u8868Excel\u540e\u518d\u7ee7\u7eed\uff01")},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.f12:window.ipcRenderer&&window.ipcRenderer.send("keyf12");break;case cc.macro.KEY.f10:window.ipcRenderer&&window.ipcRenderer.send("outjson",JSON.stringify(glGame.FList));break;default:window.ipcRenderer&&window.ipcRenderer.send("key_"+e.keyCode)}switch(e.keyCode){case cc.macro.KEY.ctrl:glGame.Ctrl=!0,cc.game.canvas.style.cursor="all-scroll",glGame.editor.status("\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u62d6\u52a8"),cc.error(">>>> 1 length "+glGame.FList[glGame.currGIndex].fishLine[glGame.currentFish.lineID].posArray.length);break;case cc.macro.KEY.z:glGame.Ctrl&&this.btn_revoke();break;case cc.macro.KEY.y:glGame.Ctrl&&this.btn_redo();break;case cc.macro.KEY.s:glGame.Ctrl&&glGame.drawBezier.saveDataToFishPointList();break;case cc.macro.KEY.f1:glGame.isCreator=!0,this.showCreatorFishGroupView();break;case cc.macro.KEY.f2:this.node.getChildByName("creatorFish").active=!this.node.getChildByName("creatorFish").active;break;case cc.macro.KEY.f3:break;case cc.macro.KEY.f5:this.node.getChildByName("settingView").active=!this.node.getChildByName("settingView").active;break;case cc.macro.KEY.f6:null==glGame.isShowBg&&(glGame.isShowBg=!1),glGame.isShowBg=!glGame.isShowBg,glGame.drawBezier.node.getChildByName("Testbg").active=glGame.isShowBg;break;case cc.macro.KEY.f8:glGame.drawBezier.node.active=!glGame.drawBezier.node.active;break;case cc.macro.KEY.escape:this.node.getChildByName("settingView").active?this.node.getChildByName("settingView").active=!1:this.node.getChildByName("fishGoulpInfomation").active?this.node.getChildByName("fishGoulpInfomation").active=!1:this.node.getChildByName("creatorFish").active?this.node.getChildByName("creatorFish").active=!1:this.node.getChildByName("chooseFishingLine").active?this.node.getChildByName("chooseFishingLine").active=!1:this.node.getChildByName("fishGroupMenu").active&&(this.node.getChildByName("fishGroupMenu").active=!1,glGame.editor.node.getChildByName("fishGroupMenu").getChildByName("bg").getChildByName("btn_copyGroupOption").getChildByName("optionCopyGroup").active=!1);break;case cc.macro.KEY.space:this.runGroupFish(!1);break;case cc.macro.KEY.f9:glGame.drawBezier.saveDataToFishPointList();break;case cc.macro.KEY.h:glGame.Ctrl&&this.hideOrShowFish(!1);break;case cc.macro.KEY.g:glGame.Ctrl&&this.hideOrShowFish(!0);break;case cc.macro.KEY.a:window.ipcRenderer||(cc.warn(">>> \u5bfc\u5165\u6d4b\u8bd5\u6570\u636e ....",this.tmpData.json),this.importJson(this.tmpData.json));break;case cc.macro.KEY.q:window.ipcRenderer||(cc.log("out...."),this.click({currentTarget:{name:"btn_out"}}))}},onKeyUp:function(e){switch(e.keyCode){case cc.macro.KEY.ctrl:glGame.Ctrl=!1,cc.game.canvas.style.cursor="auto",glGame.editor.status("")}},start:function(){var e=this;glGame.editor.status("TIPS: \u8bf7\u5bfc\u5165 \u9c7c\u8d44\u6e90\u8868 \uff0c\u8d44\u6e90\u754c\u9762\u9f20\u6807\u53f3\u952e \u65b0\u5efa\u9c7c \u5f00\u59cb",glGame.Color.RED),0==glGame.currGIndex&&(glGame.currGIndex=glGame.startGroupIndex),this.node.getChildByName("bg").on(cc.Node.EventType.MOUSE_DOWN,function(t){glGame.editor.node.getChildByName("fishGroupMenu").active&&(glGame.editor.node.getChildByName("fishGroupMenu").active=!1,glGame.editor.node.getChildByName("fishGroupMenu").getChildByName("bg").getChildByName("btn_copyGroupOption").getChildByName("optionCopyGroup").active=!1),glGame.editor.node.getChildByName("chooseFishingLine").active&&(glGame.editor.node.getChildByName("chooseFishingLine").active=!1),-1==t.target.name.indexOf("menu")&&(glGame.atlasList?glGame.fishTable?glGame.FList[glGame.currGIndex]?glGame.currentFish||glGame.editor.status("\u8bf7\u521b\u5efa\u4e00\u6761\u9c7c"):glGame.editor.alert("\u8bf7\u521b\u5efa\u9c7c\u7ec4~",function(t){t&&(glGame.isCreator=!0,e.showCreatorFishGroupView())}):glGame.editor.alert("\u627e\u4e0d\u5230\u9c7c\u8868\uff0c\u8bf7\u5bfc\u5165\uff01",function(t){t&&e.click({currentTarget:{name:"btn_importExcel"}})}):glGame.editor.alert("\u627e\u4e0d\u5230\u56fe\u96c6\uff0c\u8bf7\u9009\u62e9\u56fe\u96c6\u76ee\u5f55\uff01",function(e){e&&window.ipcRenderer&&window.ipcRenderer.send("sFishPth")}))}),this.node.getChildByName("fishCanteiner").getChildByName("fishScrollView").getChildByName("view").getChildByName("content").on(cc.Node.EventType.MOUSE_DOWN,function(t){if(t.getButton()==cc.Event.EventMouse.BUTTON_RIGHT){if(-1!=t.target.name.indexOf("resList_fish_")&&(e.clickFishTableTypeFishId=Number(t.target.fishTypeId)),!glGame.FList[glGame.currGIndex])return void glGame.editor.alert("\u8bf7\u521b\u5efa\u9c7c\u7ec4",function(t){t&&(glGame.isCreator=!0,e.showCreatorFishGroupView())});e.clickFishTableTypeFishId?e.showCreatFishView(!0):glGame.editor.status("\u6ca1\u70b9\u4e2d\u9c7c\uff01\u8bf7\u91cd\u8bd5\uff01")}});var t=glGame.editor.node.getChildByName("chooseFishingLine");glGame.editor.node.getChildByName("fishGroupMenu").active=!1,glGame.editor.node.getChildByName("fishGroupMenu").getChildByName("bg").getChildByName("btn_copyGroupOption").getChildByName("optionCopyGroup").active=!1,glGame.editor.node.getChildByName("fishGroupMenu").getChildByName("bg").opacity=255,t.active=!1,t.getChildByName("bg").opacity=255,glGame.editor.node.getChildByName("alertView").active=!1,glGame.editor.node.getChildByName("alertView").opacity=200;var i=this.node.getChildByName("fishLineCanteiner").getChildByName("fishLineScrollView").getChildByName("view").getChildByName("content"),n=this.node.getChildByName("fishGroupCanteiner").getChildByName("fishGroupScrollView").getChildByName("view").getChildByName("content");i.on(cc.Node.EventType.MOUSE_DOWN,function(e){if(t.active&&(t.active=!1),e.getButton()==cc.Event.EventMouse.BUTTON_RIGHT)if(-1!=e.target.name.indexOf("_")){glGame.editor.chooseFishID=e.target.lineID,glGame.editor.status("\u5f53\u524d\u9009\u4e2d\u9c7c\u7ebfID\uff1a"+glGame.editor.chooseFishID),t.active=!0;var i=t.convertToNodeSpaceAR(e.getLocation()),n=t.getChildByName("bg"),a=n.height,o=i.x-n.width/2,r=i.y-a/2;n.setPosition(o,r),n.y<0&&n.y<-658&&(n.y=-658),n.y>0&&n.y>665&&(n.y=658)}else glGame.editor.status("\u70b9\xd7\u4e86\uff0c\u8bf7\u7784\u51c6Item\u70b9\u51fb");if(e.getButton()==cc.Event.EventMouse.BUTTON_LEFT&&-1!=e.target.name.indexOf("_")){null!=glGame.lastItemNode&&null!=glGame.lastItemNode.children&&glGame.lastItemNode.getChildByName("heightLine")&&(glGame.lastItemNode.getChildByName("heightLine").active=!1),glGame.editor.node.getChildByName("editBar").getChildByName("btn_pay").active=!0,glGame.editor.node.getChildByName("editBar").getChildByName("btn_push").active=!1,glGame.lastItemNode=e.target,glGame.lastItemNode.getChildByName("heightLine").active=!0;for(var s=0;s<glGame.GFishList.length;s++)if(glGame.GFishList[s].lineID==e.target.lineID){glGame.currentFish&&(glGame.currentFish.getComponent("fish_Unit").settingIcing(!1),glGame.currentFish.setPosition(glGame.FList[glGame.currGIndex].fishLine[glGame.currentFish.lineID].posArray[0])),glGame.currentFish=glGame.GFishList[s];break}glGame.editor.status("\u5f53\u524d\u9009\u4e2d\u9c7c\u7ebfID  currentFish \uff1a"+e.target.lineID),glGame.currLineItem=glGame.FList[glGame.currGIndex].fishLine[glGame.currentFish.lineID],glGame.editor.getFishToCanvas(glGame.currentFish.lineID)}}),n.on(cc.Node.EventType.MOUSE_DOWN,function(e){if(glGame.editor.node.getChildByName("fishGroupMenu").active&&(glGame.editor.node.getChildByName("fishGroupMenu").active=!1,glGame.editor.node.getChildByName("fishGroupMenu").getChildByName("bg").getChildByName("btn_copyGroupOption").getChildByName("optionCopyGroup").active=!1),e.getButton()==cc.Event.EventMouse.BUTTON_RIGHT&&-1!=e.target.name.indexOf("_")){var t=glGame.editor.node.getChildByName("fishGroupMenu").getChildByName("bg");glGame.tmpGroupId=Number(e.target.name.split("_")[1]),cc.warn("> \u9c7c\u7ec4 \u5217\u8868 \u53f3\u952e > ",glGame.tmpGroupId),glGame.editor.node.getChildByName("fishGroupMenu").active=!0,glGame.editor.node.getChildByName("leftClickMenu").active=!1,t.getChildByName("btn_Paste").active=null!=glGame.copyToGroup,t.getChildByName("btn_PasteLine").active=null!=glGame.copyLineFIshID,t.getChildByName("btn_PasteOptionLine").active=null!=glGame.optionCopyLinePasterOtherGroup_groupID,t.getChildByName("btn_Paste").active||t.getChildByName("btn_PasteLine").active||t.getChildByName("btn_PasteOptionLine").active?(t.Oldheight=t.height,t.height=288):t.Oldheight&&(t.height=t.Oldheight);var i=glGame.editor.node.getChildByName("fishGroupMenu").convertToNodeSpaceAR(e.getLocation()),n=t.height/2,a=i.x+t.width/2,o=i.y-n;t.setPosition(a,o)}if(e.getButton()==cc.Event.EventMouse.BUTTON_LEFT&&-1!=e.target.name.indexOf("_")){var r=Number(e.target.name.split("_")[1]),s=0,l=null;for(var h in glGame.FList[r])s++,l||(l=h);glGame.currentFish&&glGame.currentFish.getComponent("fish_Unit").dispose(),glGame.editor.node.getChildByName("editBar").getChildByName("btn_pay").active=!0,glGame.editor.node.getChildByName("editBar").getChildByName("btn_push").active=!1,glGame.drawBezier.clearCurrFishLine(),glGame.currentFish=null,null!=glGame.currGItem&&null!=glGame.currGItem.children&&glGame.currGItem.childrenCount>0&&(glGame.currGItem.getChildByName("heightLine").active=!1),glGame.currGItem=e.target,glGame.currGItem.getChildByName("heightLine").active=!0,glGame.currGIndex=r,glGame.addNewLineId=null;if(0==s)glGame.editor.status("\u9c7c\u7ec4"+r+"\u65e0\u6570\u636e");else{var d=glGame.FList[r];for(var g in d.fishLine)if(d.fishLine[g]){!0,glGame.currLineItem=d.fishLine[g],glGame.editor.updateFishLineToCanvas();break}}}}),glGame.drawBezier.initDataToFishPointList(),this.node.getChildByName("fishGroupProgress").active=!1,this.node.getChildByName("fishGroupProgress").getChildByName("slider").on("slide",this.onSlide,this),this.node.getChildByName("fishGroupProgress").isGroupPlay=!1,this.node.on(cc.Node.EventType.MOUSE_WHEEL,function(e){var t=glGame.editor.node.getChildByName("deskUI");e._scrollY>0?t.scale<3&&(t.scale+=.05):t.scale>.1&&(t.scale-=.05)},this)},onSlide:function(e){if(this.node.getChildByName("fishGroupProgress").getChildByName("progressBar").getComponent(cc.ProgressBar).progress=e.progress,this.node.getChildByName("fishGroupProgress").getChildByName("btn_startPlay").active=0!=e.progress&&1!=e.progress,this.node.getChildByName("fishGroupProgress").getChildByName("btn_pushGroup").active=!this.node.getChildByName("fishGroupProgress").getChildByName("btn_startPlay").active,1==e.progress&&(this.node.getChildByName("fishGroupProgress").getChildByName("btn_pushGroup").active=!1,this.node.getChildByName("fishGroupProgress").getChildByName("btn_startPlay").active=!this.node.getChildByName("fishGroupProgress").getChildByName("btn_pushGroup").active),this.node.getChildByName("fishGroupProgress").isGroupPlay){if(glGame.GFishList&&glGame.GFishList.length>0)for(var t=glGame.GFishList.length,i=0;i<t;i++){var n=glGame.GFishList[i];n&&n.getComponent("fish_Unit")&&n.getComponent("fish_Unit").updateData(),n&&n.getComponent("fish_Unit")&&n.getComponent("fish_Unit").setProgress(e.progress)}}else{var a=glGame.currentFish;a&&a.getComponent("fish_Unit")&&a.getComponent("fish_Unit").updateData(),a&&a.getComponent("fish_Unit")&&a.getComponent("fish_Unit").setProgress(e.progress)}},isEnterArea:function(e,t){var i=this.node.getChildByName(t).x-this.node.getChildByName(t).width/2,n=this.node.getChildByName(t).y-this.node.getChildByName(t).height/2,a=cc.v2(i,n),o=this.node.getChildByName(t).x+this.node.getChildByName(t).width/2,r=this.node.getChildByName(t).y+this.node.getChildByName(t).height/2,s=cc.v2(o,r);return e.x>a.x&&e.x<s.x||e.y<a.y&&e.y>s.y},runGroupFish:function(e){if(e)if(this.node.getChildByName("fishGroupProgress").getChildByName("btn_pushGroup").active=!0,this.node.getChildByName("fishGroupProgress").getChildByName("btn_startPlay").active=!this.node.getChildByName("fishGroupProgress").getChildByName("btn_pushGroup").active,this.node.getChildByName("fishGroupProgress").isGroupPlay){if(glGame.GFishList&&glGame.GFishList.length>0)for(var t=glGame.GFishList.length,i=0;i<t;i++){var n=glGame.GFishList[i];n&&n.getComponent("fish_Unit")&&n.getComponent("fish_Unit").updateData(),n&&n.getComponent("fish_Unit")&&n.getComponent("fish_Unit").settingIcing(!0)}}else{var a=glGame.currentFish;a&&a.getComponent("fish_Unit")&&a.getComponent("fish_Unit").updateData(),a&&a.getComponent("fish_Unit")&&a.getComponent("fish_Unit").settingIcing(!0)}else if(this.node.getChildByName("fishGroupProgress").getChildByName("btn_pushGroup").active=!1,this.node.getChildByName("fishGroupProgress").getChildByName("btn_startPlay").active=!this.node.getChildByName("fishGroupProgress").getChildByName("btn_pushGroup").active,this.node.getChildByName("fishGroupProgress").isGroupPlay){if(glGame.GFishList&&glGame.GFishList.length>0)for(var o=glGame.GFishList.length,r=0;r<o;r++){var s=glGame.GFishList[r];s&&s.getComponent("fish_Unit")&&s.getComponent("fish_Unit").updateData(),s&&s.getComponent("fish_Unit")&&s.getComponent("fish_Unit").settingIcing(!1)}}else{var l=glGame.currentFish;l&&l.getComponent("fish_Unit")&&l.getComponent("fish_Unit").updateData(),l&&l.getComponent("fish_Unit")&&l.getComponent("fish_Unit").settingIcing(!1)}},click:function(e){if("menu1Button"==e.currentTarget.name&&(glGame.paintingArea.emit("addNewPoint",glGame.currDownEvent),glGame.editor.node.getChildByName("leftClickMenu").active=!1),"menu2Button"==e.currentTarget.name){glGame.editor.node.getChildByName("leftClickMenu").active=!1;var t=glGame.editor.node.getChildByName("newPoint2");t.active=!0,t.getChildByName("lab_bzier1X").getChildByName("editbox").getComponent(cc.EditBox).string="",t.getChildByName("lab_bzier1Y").getChildByName("editbox").getComponent(cc.EditBox).string="",t.getChildByName("lab_bzier2X").getChildByName("editbox").getComponent(cc.EditBox).string="",t.getChildByName("lab_bzier2Y").getChildByName("editbox").getComponent(cc.EditBox).string=""}("menu3Button"==e.currentTarget.name&&(glGame.editor.node.getChildByName("leftClickMenu").active=!1),"menu4Button"==e.currentTarget.name&&(glGame.editor.node.getChildByName("leftClickMenu").active=!1),"menu5Button"==e.currentTarget.name&&(glGame.editor.node.getChildByName("leftClickMenu").active=!1),"menu6Button"==e.currentTarget.name&&(glGame.editor.node.getChildByName("leftClickMenu").active=!1,this.hideOrShowFish2()),"btn_startPlay"==e.currentTarget.name&&this.runGroupFish(!0),"btn_revoke"==e.currentTarget.name&&(console.warn(" \u64a4\u9500 "),this.btn_revoke()),"btn_redo"==e.currentTarget.name&&(console.warn(" \u91cd\u505a "),this.btn_redo()),"closeNrePoint2"==e.currentTarget.name)&&(glGame.editor.node.getChildByName("newPoint2").active=!1,glGame.editor.node.getChildByName("leftClickMenu").active=!1);if("newPointOkButton2"==e.currentTarget.name){var i=glGame.editor.node.getChildByName("newPoint2");i.active=!1;var n=Number(i.getChildByName("lab_bzier1X").getChildByName("editbox").getComponent(cc.EditBox).string),a=Number(i.getChildByName("lab_bzier1Y").getChildByName("editbox").getComponent(cc.EditBox).string),o=Number(i.getChildByName("lab_bzier2X").getChildByName("editbox").getComponent(cc.EditBox).string),r=Number(i.getChildByName("lab_bzier2Y").getChildByName("editbox").getComponent(cc.EditBox).string);glGame.currDownEvent.bzierData={controlPos:cc.v2(n,a),endPos:cc.v2(o,r)},glGame.paintingArea.emit("addNewPoint",glGame.currDownEvent)}if("btn_pushGroup"==e.currentTarget.name&&this.runGroupFish(!1),"chooseFishingLine"==e.currentTarget.name){glGame.editor.node.getChildByName("leftClickMenu").active=!1;var s=glGame.editor.node.getChildByName("chooseFishingLine").convertToNodeSpaceAR(e.getLocation());this.isEnterArea(s,"fishLineCanteiner")||(this.node.getChildByName("chooseFishingLine").active=!this.node.getChildByName("chooseFishingLine").active)}if("fishGroupMenu"==e.currentTarget.name){var l=glGame.editor.node.getChildByName("fishGroupMenu").convertToNodeSpaceAR(e.getLocation());this.isEnterArea(l,"fishGroupCanteiner")||(this.node.getChildByName("fishGroupMenu").active=!this.node.getChildByName("fishGroupMenu").active,glGame.editor.node.getChildByName("leftClickMenu").active=!1)}if("btn_editLineInfo"==e.currentTarget.name){glGame.editor.node.getChildByName("leftClickMenu").active=!1;var h=glGame.editor.node.getChildByName("chooseFishingLine");h.active=!h.active,glGame.isCreat=!1,this.showCreatFishView(!1)}if("chooseFishingLineMask"==e.currentTarget.name){var d=glGame.editor.node.getChildByName("chooseFishingLine");d.active=!d.active}if("closeFishList"==e.currentTarget.name&&(this.node.getChildByName("fishCanteiner").active=!1),"btn_fishGroupProgress"==e.currentTarget.name&&(this.node.getChildByName("fishGroupProgress").active=!1,this.node.getChildByName("fishGroupProgress").isGroupPlay=!0),"btn_pay"==e.currentTarget.name||"menu4Button"==e.currentTarget.name){if(this.node.getChildByName("fishGroupProgress").isGroupPlay=!1,this.node.getChildByName("fishGroupProgress").active=!0,glGame.editor.node.getChildByName("editBar").getChildByName("btn_pay").active=!1,glGame.editor.node.getChildByName("editBar").getChildByName("btn_push").active=!0,glGame.currentFish&&glGame.currentFish.getComponent("fish_Unit")&&glGame.currentFish.getComponent("fish_Unit").settingIcing(!0),void 0!=glGame.pearssPush)return;void 0!=glGame.currentFish?glGame.drawBezier.playBezierFishLine():glGame.editor.status("\u8bf7\u5148\u521b\u5efa\u4e00\u6761\u9c7c")}if("btn_refush"==e.currentTarget.name||"menu5Button"==e.currentTarget.name){glGame.editor.node.getChildByName("editBar").getChildByName("btn_push").active=!1,glGame.editor.node.getChildByName("editBar").getChildByName("btn_pay").active=!glGame.editor.node.getChildByName("editBar").getChildByName("btn_push").active;var g=glGame.FList[glGame.currGIndex].fishLine;if(g)for(var m in g){glGame.currLineItem=g[m],glGame.editor.updateGroupToCanteinerAndFishLineToCanvas();break}}if("btn_push"==e.currentTarget.name&&(glGame.pearssPush="ok",glGame.editor.node.getChildByName("editBar").getChildByName("btn_push").active=!glGame.editor.node.getChildByName("editBar").getChildByName("btn_push").active,glGame.editor.node.getChildByName("editBar").getChildByName("btn_pay").active=!glGame.editor.node.getChildByName("editBar").getChildByName("btn_push").active,glGame.currentFish.getComponent("fish_Unit").settingIcing(!1)),"btn_restore"==e.currentTarget.name&&window.ipcRenderer){var c=cc.sys.localStorage.getItem("atlasPath"),u=cc.sys.localStorage.getItem("fishTableExcelPath");if(cc.warn("  \u6253\u5f00\u4e0a\u6b21  atlasPath ",c," fishTableExcelPath ",u),null!=c&&""!=c){if(null!=u&&""!=u){var p={atlasPath:c,fishTableExcelPath:u};window.ipcRenderer.send("open-restore",JSON.stringify(p))}}else null!=c&&""!=c||glGame.editor.alert("\u65e0\u8bb0\u5f55")}if("btn_fishList"==e.currentTarget.name&&(this.clickMenu("view_menu3",e.currentTarget.name),this.node.getChildByName("fishGroupCanteiner").active=!this.node.getChildByName("fishGroupCanteiner").active),"btn_resList"==e.currentTarget.name&&(this.clickMenu("view_menu3",e.currentTarget.name),this.node.getChildByName("fishCanteiner").active=!this.node.getChildByName("fishCanteiner").active),"GroupItem"==e.currentTarget.name&&(this.node.getChildByName("fishGoulpInfomation").active=!this.node.getChildByName("fishGoulpInfomation").active),"btn_lineList"==e.currentTarget.name&&(this.clickMenu("view_menu3",e.currentTarget.name),this.node.getChildByName("fishLineCanteiner").active=!this.node.getChildByName("fishLineCanteiner").active),"closeFishLineGroup"==e.currentTarget.name&&(this.node.getChildByName("fishLineCanteiner").active=!this.node.getChildByName("fishLineCanteiner").active),"searhGroupButton"==e.currentTarget.name){var y=this.node.getChildByName("fishGroupCanteiner").getChildByName("searchGEditBox");y.active=!y.active;var f=0;if(!y.active){if(void 0!=glGame.SearchFList)for(var G in glGame.SearchFList){f++;break}f>0&&(glGame.SearchFList=null,glGame.editor.updateGroupToCanteinerAndFishLineToCanvas())}}if("searhLineButton"==e.currentTarget.name){var C=this.node.getChildByName("fishLineCanteiner").getChildByName("searchLEditBox");C.active=!C.active,C.active||void 0!=glGame.searchList&&glGame.searchList.length>0&&(glGame.searchList=[],glGame.editor.updateFishLineToCanvas())}if("closeGroupInfo"==e.currentTarget.name&&(this.node.getChildByName("fishGoulpInfomation").active=!this.node.getChildByName("fishGoulpInfomation").active),"btn_fishLineSubmit"==e.currentTarget.name&&(this.node.getChildByName("fishGoulpInfomation").active=!this.node.getChildByName("fishGoulpInfomation").active),"menu1"==e.currentTarget.name)return this.node.getChildByName("view_menu1").active=!this.node.getChildByName("view_menu1").active,this.node.getChildByName("view_menu2").active=!1,void(this.node.getChildByName("view_menu3").active=!1);if("menu2"==e.currentTarget.name)return this.node.getChildByName("view_menu2").active=!this.node.getChildByName("view_menu2").active,this.node.getChildByName("view_menu1").active=!1,void(this.node.getChildByName("view_menu3").active=!1);if("menu3"==e.currentTarget.name)return this.node.getChildByName("view_menu3").active=!this.node.getChildByName("view_menu3").active,this.node.getChildByName("view_menu1").active=!1,void(this.node.getChildByName("view_menu2").active=!1);if("btn_new"==e.currentTarget.name&&this.clickMenu("view_menu1",e.currentTarget.name),"btn_save"==e.currentTarget.name&&(this.clickMenu("view_menu1",e.currentTarget.name),glGame.drawBezier.saveDataToFishPointList()),"logo"==e.currentTarget.name&&this.openAbout(),"btn_inBg"==e.currentTarget.name&&this.clickMenu("view_menu1",e.currentTarget.name),"btn_about"==e.currentTarget.name&&(this.clickMenu("view_menu1",e.currentTarget.name),this.openAbout()),"close _about_bg"==e.currentTarget.name&&this.closeAbout(),"btn_InfoEditor"==e.currentTarget.name&&(glGame.editor.node.getChildByName("fishGroupMenu").active=!1,glGame.editor.node.getChildByName("fishGroupMenu").getChildByName("bg").getChildByName("btn_copyGroupOption").getChildByName("optionCopyGroup").active=!1,glGame.isCreator=!1,this.showCreatorFishGroupView()),"btn_newGroup"==e.currentTarget.name&&(this.node.getChildByName("view_menu1").active=!this.node.getChildByName("view_menu1").active,glGame.isCreator=!0,this.showCreatorFishGroupView()),"btn_setting"==e.currentTarget.name&&(this.clickMenu("view_menu2",e.currentTarget.name),this.node.getChildByName("settingView").active=!0),"btn_fishGroupSubmit"==e.currentTarget.name&&this.creatFishGroupSubmit(),"btn_copyLineOption"==e.currentTarget.name){var v=glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").getChildByName("btn_copyLineOption").getChildByName("optionCopyLine");v.active=!v.active}("btn_copyGroupOption"==e.currentTarget.name&&(glGame.optionCopyLinePasterOtherGroup_groupID=null,glGame.editor.node.getChildByName("fishGroupMenu").getChildByName("bg").getChildByName("btn_copyGroupOption").getChildByName("optionCopyGroup").active=!0),"fishGroupMenuMask"==e.currentTarget.name&&(glGame.editor.node.getChildByName("fishGroupMenu").active=!1),"btn_closebatchOperationFishLine"==e.currentTarget.name)&&(glGame.editor.node.getChildByName("batchOperationFishLine").active=!1);if("btn_batchOperation"==e.currentTarget.name){glGame.editor.node.getChildByName("fishGroupMenu").getChildByName("bg").getChildByName("btn_copyGroupOption").getChildByName("optionCopyGroup").active=!1,glGame.editor.node.getChildByName("fishGroupMenu").active=!1;var N=glGame.editor.node.getChildByName("batchOperationFishLine"),B=N.getChildByName("layout");N.active=!0,B.getChildByName("lab_group").getComponent(cc.Label).string=glGame.tmpGroupId+""}if("btn_batchOpOk"==e.currentTarget.name){var b=glGame.editor.node.getChildByName("batchOperationFishLine"),L=b.getChildByName("layout"),T=L.getChildByName("lab_resGroupId").getChildByName("editbox").getComponent(cc.EditBox).string,x=L.getChildByName("lab_showTime").getChildByName("editbox").getComponent(cc.EditBox).string,I=L.getChildByName("lab_rate").getChildByName("editbox").getComponent(cc.EditBox).string,F=L.getChildByName("lab_frequency").getChildByName("editbox").getComponent(cc.EditBox).string,_=L.getChildByName("lab_scale").getChildByName("editbox").getComponent(cc.EditBox).string,w=L.getChildByName("lab_startP_x").getChildByName("editbox").getComponent(cc.EditBox).string,D=L.getChildByName("lab_startP_y").getChildByName("editbox").getComponent(cc.EditBox).string,E=L.getChildByName("lab_endP_x").getChildByName("editbox").getComponent(cc.EditBox).string,O=L.getChildByName("lab_endP_y").getChildByName("editbox").getComponent(cc.EditBox).string,S=L.getChildByName("lab_multiplication_startP_x").getChildByName("editbox").getComponent(cc.EditBox).string,P=L.getChildByName("lab_multiplication_startP_y").getChildByName("editbox").getComponent(cc.EditBox).string,R=L.getChildByName("lab_multiplication_endP_x").getChildByName("editbox").getComponent(cc.EditBox).string,M=L.getChildByName("lab_multiplication_endP_y").getChildByName("editbox").getComponent(cc.EditBox).string;for(var A in glGame.FList[Number(glGame.tmpGroupId)].fishLine){if(""!=T&&(glGame.FList[Number(glGame.tmpGroupId)].fishLine[A].resGroupId=Number(T)),""!=_&&(glGame.FList[Number(glGame.tmpGroupId)].fishLine[A].scale=Number(_)),""!=x&&(glGame.FList[Number(glGame.tmpGroupId)].fishLine[A].showTime+=Number(x)),""!=F&&(glGame.FList[Number(glGame.tmpGroupId)].fishLine[A].frequency=Number(F)),""!=I){glGame.FList[Number(glGame.tmpGroupId)].fishLine[A].rate=Number(I);for(var z=glGame.FList[Number(glGame.tmpGroupId)].fishLine[A].moveList,k=z.length,U=0;U<k;U++)z[U]=Number(I),z[U+1]=0,z[U+2]=Number(I),U+=2}if(""!=w||""!=D||""!=E||""!=O||""!=S||""!=P||""!=R||""!=M){var V=glGame.FList[Number(glGame.tmpGroupId)].fishLine[A].posArray;""!=w&&(V[0].x+=Number(w)),""!=D&&(V[0].y+=Number(D)),""!=E&&(V[V.length-1].x+=Number(E)),""!=O&&(V[V.length-1].y+=Number(O)),""!=S&&(V[0].x=V[0].x*Number(S)),""!=P&&(V[0].y=V[0].y*Number(P)),""!=R&&(V[V.length-1].x=V[V.length-1].x*Number(R)),""!=M&&(V[V.length-1].y=V[V.length-1].y*Number(M))}}b.active=!1;var q="\u4fdd\u5b58";""!=T&&(q+="\u9ed8\u8ba4\u9c7c\u56fe "),""!=x&&(q+="\u51fa\u751f\u65f6\u95f4 "),""!=F&&(q+="\u52a8\u753b\u5e27\u9891 "),""!=I&&(q+="\u901f\u7387 "),""!=w&&(q+="\u5f00\u59cb\u70b9x "),""!=D&&(q+="\u5f00\u59cb\u70b9y "),""!=E&&(q+="\u7ed3\u675f\u70b9x "),""!=O&&(q+="\u7ed3\u675f\u70b9y "),glGame.editor.status(q+"\u6210\u529f"),L.getChildByName("lab_resGroupId").getChildByName("editbox").getComponent(cc.EditBox).string="",L.getChildByName("lab_showTime").getChildByName("editbox").getComponent(cc.EditBox).string="",L.getChildByName("lab_rate").getChildByName("editbox").getComponent(cc.EditBox).string="",L.getChildByName("lab_frequency").getChildByName("editbox").getComponent(cc.EditBox).string="",L.getChildByName("lab_scale").getChildByName("editbox").getComponent(cc.EditBox).string="",L.getChildByName("lab_startP_x").getChildByName("editbox").getComponent(cc.EditBox).string="",L.getChildByName("lab_startP_y").getChildByName("editbox").getComponent(cc.EditBox).string="",L.getChildByName("lab_endP_x").getChildByName("editbox").getComponent(cc.EditBox).string="",L.getChildByName("lab_endP_y").getChildByName("editbox").getComponent(cc.EditBox).string="",L.getChildByName("lab_multiplication_startP_x").getChildByName("editbox").getComponent(cc.EditBox).string="",L.getChildByName("lab_multiplication_startP_y").getChildByName("editbox").getComponent(cc.EditBox).string="",L.getChildByName("lab_multiplication_endP_x").getChildByName("editbox").getComponent(cc.EditBox).string="",L.getChildByName("lab_multiplication_endP_y").getChildByName("editbox").getComponent(cc.EditBox).string="",this.updateFishLineToCanvas()}"optionCopyLineCloseView"==e.currentTarget.name&&(glGame.editor.node.getChildByName("chooseFishingLine").active=!1,glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").getChildByName("btn_copyLineOption").getChildByName("optionCopyLine").active=!1);if("optionCopyLinePasterCurrentGroupOk"==e.currentTarget.name){var J=glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").getChildByName("btn_copyLineOption").getChildByName("optionCopyLine"),Y=J.getChildByName("bg").getChildByName("numberEditbox").getComponent(cc.EditBox).string,W=""==Y?1:Number(Y);this.getOptionCopyLineType(),glGame.optionCopyLinePasterOtherGroup_time=this.getCopyLineTimeOffSet(0),glGame.optionCopyLinePasterOtherGroup_fishTypeId=this.getCopyLinefishTypeId(),this.copyFishLineToLine(glGame.currGIndex,glGame.editor.chooseFishID,glGame.optionCopyLineType,W,glGame.optionCopyLinePasterOtherGroup_time,glGame.optionCopyLinePasterOtherGroup_fishTypeId,glGame.optionCopyLineTypeReverseElectionX,glGame.optionCopyLineTypeReverseElectionY),glGame.editor.node.getChildByName("chooseFishingLine").active=!1,J.active=!1}if("optionCopyLinePasterOtherGroupOk"==e.currentTarget.name){var X=glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").getChildByName("btn_copyLineOption").getChildByName("optionCopyLine"),H=X.getChildByName("bg").getChildByName("numberEditbox").getComponent(cc.EditBox).string;glGame.optionCopyLinePasterOtherGroup_number=""==H?1:Number(H),glGame.optionCopyLineType||this.getOptionCopyLineType(),glGame.optionCopyLinePasterOtherGroup_groupID=Number(glGame.currGIndex+""),glGame.optionCopyLinePasterOtherGroup_fishID=Number(glGame.editor.chooseFishID+""),glGame.optionCopyLinePasterOtherGroup_time=this.getCopyLineTimeOffSet(0),glGame.optionCopyLinePasterOtherGroup_fishTypeId=this.getCopyLinefishTypeId(),glGame.optionCopyLinePasterOtherGroup_type=Number(glGame.optionCopyLineType+""),glGame.editor.node.getChildByName("chooseFishingLine").active=!1,X.active=!1}if("btn_copyToGroup"==e.currentTarget.name&&(glGame.editor.node.getChildByName("chooseFishingLine").active=!1,glGame.copyToGroup=Number(glGame.editor.chooseFishID+""),glGame.editor.status("\u8bf7\u9009\u62e9 \u9c7c\u7ec4\u5217\u8868\u67d0\u4e2aItem \u9f20\u6807\u53f3\u952e")),"btn_Paste"==e.currentTarget.name&&(glGame.editor.node.getChildByName("fishGroupMenu").active=!1,this.copyFishLineToGroup(glGame.currGIndex,glGame.tmpGroupId,glGame.editor.chooseFishID,-1,1),glGame.copyToGroup=null),"btn_copyLine"==e.currentTarget.name&&(glGame.editor.node.getChildByName("chooseFishingLine").active=!0,glGame.copyLineFIshID=Number(glGame.editor.chooseFishID+""),glGame.copyLineFIshID_formGroup=Number(Number(glGame.currGIndex)+""),glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").getChildByName("btn_pastFishLine").active=!0,glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").height=245),"btn_pastFishLine"==e.currentTarget.name&&(glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").height=205,glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").getChildByName("btn_pastFishLine").active=!1,this.copyFishLineToGroup(glGame.currGIndex,glGame.currGIndex,glGame.copyLineFIshID,-1,1),glGame.copyLineFIshID=null,glGame.copyLineFIshID_formGroup=null,glGame.editor.node.getChildByName("chooseFishingLine").active=!1),"btn_PasteLine"==e.currentTarget.name&&(glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").height=205,glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").getChildByName("btn_pastFishLine").active=!1,glGame.editor.node.getChildByName("fishGroupMenu").getChildByName("bg").getChildByName("btn_PasteLine").active=!1,glGame.editor.node.getChildByName("fishGroupMenu").getChildByName("bg").getChildByName("btn_PasteOptionLine").active=!1,glGame.editor.node.getChildByName("fishGroupMenu").active=!1,this.copyFishLineToGroup(glGame.copyLineFIshID_formGroup,glGame.tmpGroupId,glGame.copyLineFIshID,-1,1,glGame.optionCopyLineTypeReverseElectionX,glGame.optionCopyLineTypeReverseElectionY),glGame.copyLineFIshID=null,glGame.copyLineFIshID_formGroup=null),"btn_PasteOptionLine"==e.currentTarget.name&&(glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").height=205,glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").getChildByName("btn_pastFishLine").active=!1,glGame.editor.node.getChildByName("fishGroupMenu").getChildByName("bg").getChildByName("btn_PasteLine").active=!1,glGame.editor.node.getChildByName("fishGroupMenu").getChildByName("bg").getChildByName("btn_PasteOptionLine").active=!1,glGame.editor.node.getChildByName("fishGroupMenu").active=!1,this.copyFishLineToGroup(glGame.optionCopyLinePasterOtherGroup_groupID,glGame.tmpGroupId,glGame.optionCopyLinePasterOtherGroup_fishID,glGame.optionCopyLinePasterOtherGroup_type,glGame.optionCopyLinePasterOtherGroup_number,glGame.optionCopyLinePasterOtherGroup_time,glGame.optionCopyLineTypeReverseElectionX,glGame.optionCopyLineTypeReverseElectionY),glGame.optionCopyLinePasterOtherGroup_groupID=null,glGame.optionCopyLinePasterOtherGroup_fishID=null,glGame.optionCopyLinePasterOtherGroup_typ=null,glGame.optionCopyLinePasterOtherGroup_number=null,glGame.optionCopyLinePasterOtherGroup_time=null),"btn_copyGroup"==e.currentTarget.name&&(this.copyGroupToGroup(-1),glGame.editor.node.getChildByName("fishGroupMenu").active=!1),"btn_showMc"==e.currentTarget.name||"btn_playGroup"==e.currentTarget.name||"menu3Button"==e.currentTarget.name){if(this.node.getChildByName("fishGroupProgress").getChildByName("btn_pushGroup").active=!0,this.node.getChildByName("fishGroupProgress").getChildByName("btn_startPlay").active=!this.node.getChildByName("fishGroupProgress").getChildByName("btn_pushGroup").active,this.node.getChildByName("fishGroupProgress").isGroupPlay=!0,this.node.getChildByName("fishGroupProgress").active=!0,this.node.getChildByName("fishGroupProgress").getChildByName("slider").getComponent(cc.Slider).progress=0,this.node.getChildByName("fishGroupProgress").getChildByName("progressBar").getComponent(cc.ProgressBar).progress=0,glGame.FList){var K=glGame.FList[glGame.currGIndex].fishLine,j=[];if(K&&glGame.GFishList.length>0){for(var Z=glGame.GFishList.length,Q=0;Q<Z;Q++){var $=glGame.GFishList[Q],ee=Number($.getComponent("fish_Unit").getRunTime()),te=$.lineID;j.push({id:te,t:ee})}j.sort(function(e,t){return t.t-e.t});for(var ie=0;ie<Z;ie++){var ne=glGame.GFishList[ie];ne.getComponent("fish_Unit").setMoveData(K[ne.lineID]);var ae=ne.lineID;ne.getComponent("fish_Unit").startMove(j[0].id==ae)}}else glGame.editor.status("\u5f53\u524d\u6ca1\u6709\u9c7c\uff0c\u65e0\u6cd5\u64ad\u653e")}else glGame.editor.status("\u5f53\u524d\u6ca1\u6709\u9c7c\u7ec4\u3001\u9c7c\uff0c\u65e0\u6cd5\u64ad\u653e");glGame.editor.node.getChildByName("fishGroupMenu").active=!1,this.clickMenu("view_menu2",e.currentTarget.name)}if(e.currentTarget.name,"btn_closeresSView"==e.currentTarget.name&&(this.node.getChildByName("creatorFish").active=!this.node.getChildByName("creatorFish").active),"btn_deleteLine"==e.currentTarget.name){var oe=0;for(var re in glGame.FList[glGame.currGIndex].fishLine)oe++;if(oe<=1)return void glGame.editor.status("\u5f53\u524d\u53ea\u6709\u4e00\u6761\u9c7c\u4e86\uff0c\u9c7c\u7ebf\u5217\u8868\u5982\u9700\u6e05\u9664\u76f4\u63a5\u5220\u9664\u9c7c\u7ec4\u5373\u53ef");this.node.getChildByName("chooseFishingLine").active=!1,delete glGame.FList[glGame.currGIndex].fishLine[Number(glGame.editor.chooseFishID+"")],this.updateFishLineToCanvas(glGame.editor.chooseFishID),glGame.editor.chooseFishID=null}if("btn_deleteGroup"==e.currentTarget.name){var se=0;for(var le in glGame.FList)se++;se>1?(glGame.tmpGroupId==glGame.currGIndex&&(glGame.currLineItem=null,glGame.drawBezier.clearCurrFishLine()),delete glGame.FList[glGame.tmpGroupId],this.updateGroupToCanteinerAndFishLineToCanvas(glGame.tmpGroupId),glGame.tmpGroupId=null):glGame.editor.status("\u5220\u9664\u5931\u8d25\uff0c\u6700\u540e\u4e00\u4e2a\u65e0\u6cd5\u5220\u9664"),this.node.getChildByName("fishGroupMenu").active=!1,glGame.editor.node.getChildByName("fishGroupMenu").getChildByName("bg").getChildByName("btn_copyGroupOption").getChildByName("optionCopyGroup").active=!1}if("btn_creat"==e.currentTarget.name){if(""==this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_rate").getChildByName("editbox").getComponent(cc.EditBox).string)return void glGame.editor.alert("\u589e\u52a0\u901f\u7387");if(""==this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_showTime").getChildByName("editbox").getComponent(cc.EditBox).string)return void glGame.editor.alert("\u589e\u52a0\u51fa\u73b0\u65f6\u95f4");this.creatFishData()}"btn_outSettingViewClose"==e.currentTarget.name&&(this.node.getChildByName("outSettingView").active=!1),"btn_outSetting"==e.currentTarget.name&&(this.node.getChildByName("outSettingView").active=!0),"btn_out"==e.currentTarget.name&&this.outJson(0),"btn_out2"==e.currentTarget.name&&this.outJson(1),"btn_out3"==e.currentTarget.name&&this.outJson(2),"btn_out4"==e.currentTarget.name&&(this.initOrReFreshOutSettingView(),this.node.getChildByName("outSettingView").active=!0),"btn_setServerOutConfig"==e.currentTarget.name&&(glGame.OutSettingData=glGame.ServerOutConfig,this.initOrReFreshOutSettingView()),"btn_setClientOutConfig"==e.currentTarget.name&&(glGame.OutSettingData=glGame.ClientOutConfig,this.initOrReFreshOutSettingView()),"btn_setEditOutConfig"==e.currentTarget.name&&(glGame.OutSettingData=glGame.EditOutConfig,this.initOrReFreshOutSettingView()),"btn_outSettingFishLineJson"==e.currentTarget.name&&this.outPersonaliseJson(),"btn_saveSettingFishLineJson"==e.currentTarget.name&&(this.saveOutPersonaliseJsonSetting(!0),glGame.editor.alert("\u4fdd\u5b58\u6210\u529f\uff01")),"btn_readSettingFishLineJson"==e.currentTarget.name&&window.ipcRenderer&&window.ipcRenderer.send("readOutSettingData"),"btn_in"==e.currentTarget.name&&(this.clickMenu("view_menu1",e.currentTarget.name),window.ipcRenderer&&window.ipcRenderer.send("inWindow")),"btn_app_close"==e.currentTarget.name&&window.ipcRenderer&&window.ipcRenderer.send("closewindow"),"btn_app_max"==e.currentTarget.name&&window.ipcRenderer&&window.ipcRenderer.send("maxWindow"),"btn_app_min"==e.currentTarget.name&&window.ipcRenderer&&window.ipcRenderer.send("minWindow"),"closeFishGroup"==e.currentTarget.name&&(this.node.getChildByName("fishGroupCanteiner").active=!this.node.getChildByName("fishGroupCanteiner").active),"inFishResJsonBtn"==e.currentTarget.name&&window.ipcRenderer&&window.ipcRenderer.send("inFishResJosnFile"),"btn_fishTableImport"==e.currentTarget.name&&(this.node.getChildByName("fishTableImport").active=!0),"btn_closeFishTableImport"==e.currentTarget.name&&(this.node.getChildByName("fishTableImport").active=!1),"btn_importExcel"==e.currentTarget.name&&(this.node.getChildByName("fishTableImport").active=!1,window.ipcRenderer&&window.ipcRenderer.send("inFishTable")),"btn_dowmLoadExp"==e.currentTarget.name&&window.ipcRenderer&&window.ipcRenderer.send("dowmLoadExpFishTable"),this.node.getChildByName("view_menu1").active=!1,this.node.getChildByName("view_menu2").active=!1,this.node.getChildByName("view_menu3").active=!1,cc.warn(">> click ",e.currentTarget.name)},btn_revoke:function(){if(null!=glGame.currentFish)if(glGame.FList[glGame.currGIndex].fishLine[glGame.currentFish.lineID].posArray.length>4){for(glGame.isAdd=!1,null==glGame.RestoreFList&&(glGame.RestoreFList=[],glGame.RestoreIndex=0),glGame.RestoreFList.push(JSON.parse(JSON.stringify(glGame.FList)));glGame.RestoreFList.length>10;)glGame.RestoreFList.shift();glGame.FList[glGame.currGIndex].fishLine[glGame.currentFish.lineID].posArray.pop(),glGame.FList[glGame.currGIndex].fishLine[glGame.currentFish.lineID].posArray.pop(),glGame.editor.getFishToCanvas(glGame.currentFish.lineID)}else glGame.editor.status("\u65e0\u6cd5\u5220\u9664\u6700\u540e3\u6839\u7ebf");else glGame.editor.status("\u6682\u65e0\u6062\u590d")},btn_redo:function(){null!=glGame.currentFish?null!=glGame.RestoreFList&&glGame.RestoreFList.length>0?(glGame.FList=glGame.RestoreFList.pop(),glGame.editor.getFishToCanvas(glGame.currentFish.lineID)):glGame.editor.status("\u6ca1\u6709\u53ef\u4ee5\u6062\u590d\u7684\u6570\u636e\u4e86"):glGame.editor.status("\u6682\u65e0\u6062\u590d")},outJson:function(e){var t=JSON.parse(JSON.stringify(glGame.FList));for(var i in t){var n=t[i].fishLine;for(var a in 1!=e&&2!=e||delete t[i].desc,n){var o=n[a];o.runTime=glGame.getMaxIndexByTime(o.posArray,o.moveList),o.edgeList=glGame.edgeComputingToTime(o.posArray,o.moveList,o.runTime,Number(o.showTime.toFixed(2)));for(var r=0;r<o.posArray.length;r++){var s=o.posArray[r];s.x=Number(s.x.toFixed(1)),s.y=Number(s.y.toFixed(1)),void 0!=s.z&&delete s.z}for(var l=0;l<o.moveList.length;l++)o.moveList[l]&&(o.moveList[l]=Number(o.moveList[l].toFixed(2)));null!=n[a].resID&&delete n[a].resID,null!=n[a].groupID&&delete n[a].groupID,2==e&&null!=n[a].posArray&&delete n[a].posArray,2==e&&null!=n[a].moveList&&delete n[a].moveList,2==e&&null!=n[a].frequency&&delete n[a].frequency,(1==e||2==e&&null!=n[a].desc)&&delete n[a].desc,(1==e||2==e&&null!=n[a].resType)&&delete n[a].resType,(1==e||2==e&&null!=n[a].scale)&&delete n[a].scale,1==e&&null!=n[a].edgeList&&delete n[a].edgeList}}window.ipcRenderer&&window.ipcRenderer.send("outjson",JSON.stringify(t))},initOrReFreshOutSettingView:function(){if(null!=glGame.OutSettingData){for(var e=this.node.getChildByName("outSettingView"),t=e.getChildByName("line_layout"),i=e.getChildByName("group_layout"),n=0;n<t.childrenCount;n++){var a=t.children[n].getChildByName("isOutToggle").getComponent(cc.Toggle),o=t.children[n].name;null!=glGame.OutSettingData.line[o]&&""!=glGame.OutSettingData.line[o]&&(t.children[n].getComponent(cc.EditBox).string=glGame.OutSettingData.line[o]),a.isChecked=glGame.OutSettingData.line_isOut[o]}for(var r=0;r<i.childrenCount;r++){var s=i.children[r].getChildByName("isOutToggle").getComponent(cc.Toggle),l=i.children[r].name;null!=glGame.OutSettingData.group[l]&&""!=glGame.OutSettingData.group[l]&&(i.children[r].getComponent(cc.EditBox).string=glGame.OutSettingData.group[l]),s.isChecked=glGame.OutSettingData.group_isOut[l]}}},saveOutPersonaliseJsonSetting:function(e){null==glGame.OutSettingData&&(glGame.OutSettingData={},glGame.OutSettingData.line={},glGame.OutSettingData.line_isOut={},glGame.OutSettingData.group={},glGame.OutSettingData.group_isOut={});for(var t=this.node.getChildByName("outSettingView"),i=t.getChildByName("line_layout"),n=t.getChildByName("group_layout"),a=0;a<i.childrenCount;a++){var o=i.children[a].getChildByName("isOutToggle").getComponent(cc.Toggle),r=i.children[a].name,s=i.children[a].getComponent(cc.EditBox).string.replace(/\s+/g,"")+"";glGame.OutSettingData.line[r]=""!=s?s:r,glGame.OutSettingData.line_isOut[r]=o.isChecked}for(var l=0;l<n.childrenCount;l++){var h=n.children[l].getChildByName("isOutToggle").getComponent(cc.Toggle),d=n.children[l].name,g=n.children[l].getComponent(cc.EditBox).string.replace(/\s+/g,"")+"";glGame.OutSettingData.group[d]=""!=g?g:d,glGame.OutSettingData.group_isOut[d]=h.isChecked}e&&window.ipcRenderer&&window.ipcRenderer.send("OutSettingData",JSON.stringify(glGame.OutSettingData))},outPersonaliseJson:function(){this.saveOutPersonaliseJsonSetting(!1),console.warn("glGame.OutSettingData  \u914d\u7f6e\u5bfc\u51fa\u754c\u9762 \u5bfc\u51fa   \u914d\u7f6e > ",glGame.OutSettingData);var e=JSON.parse(JSON.stringify(glGame.FList));for(var t in e){var i=e[t].fishLine;for(var n in i){var a=i[n];a.runTime=glGame.getMaxIndexByTime(a.posArray,a.moveList),a.edgeList=glGame.edgeComputingToTime(a.posArray,a.moveList,a.runTime,Number(a.showTime.toFixed(2)));for(var o=0;o<a.posArray.length;o++){var r=a.posArray[o];r.x=Number(r.x.toFixed(1)),r.y=Number(r.y.toFixed(1)),void 0!=r.z&&delete r.z}for(var s=0;s<a.moveList.length;s++)a.moveList[s]&&(a.moveList[s]=Number(a.moveList[s].toFixed(2)))}}for(var l in e){var h=e[l],d=e[l].fishLine;for(var g in d){var m=d[g];null!=glGame.OutSettingData.line_isOut.groupID&&0==glGame.OutSettingData.line_isOut.groupID?delete m.groupID:null!=glGame.OutSettingData.line.groupID&&""!=glGame.OutSettingData.line.groupID&&"groupID"!=glGame.OutSettingData.line.groupID&&(m[glGame.OutSettingData.line.groupID]=Number(m.groupID+""),delete m.groupID),null!=glGame.OutSettingData.line_isOut.lineID&&0==glGame.OutSettingData.line_isOut.lineID?delete m.lineID:null!=glGame.OutSettingData.line.lineID&&""!=glGame.OutSettingData.line.lineID&&"lineID"!=glGame.OutSettingData.line.lineID&&(m[glGame.OutSettingData.line.lineID]=Number(m.lineID+""),delete m.lineID),null!=glGame.OutSettingData.line_isOut.resGroupId&&0==glGame.OutSettingData.line_isOut.resGroupId?delete m.resGroupId:null!=glGame.OutSettingData.line.resGroupId&&""!=glGame.OutSettingData.line.resGroupId&&"resGroupId"!=glGame.OutSettingData.line.resGroupId&&(m[glGame.OutSettingData.line.resGroupId]=Number(m.resGroupId+""),delete m.resGroupId),null!=glGame.OutSettingData.line_isOut.fishTypeId&&0==glGame.OutSettingData.line_isOut.fishTypeId?delete m.fishTypeId:null!=glGame.OutSettingData.line.fishTypeId&&""!=glGame.OutSettingData.line.fishTypeId&&"fishTypeId"!=glGame.OutSettingData.line.fishTypeId&&(m[glGame.OutSettingData.line.fishTypeId]=Number(m.fishTypeId+""),delete m.fishTypeId),null!=glGame.OutSettingData.line_isOut.showTime&&0==glGame.OutSettingData.line_isOut.showTime?delete m.showTime:null!=glGame.OutSettingData.line.showTime&&""!=glGame.OutSettingData.line.showTime&&"showTime"!=glGame.OutSettingData.line.showTime&&(m[glGame.OutSettingData.line.showTime]=Number(m.showTime+""),delete m.showTime),null!=glGame.OutSettingData.line_isOut.frequency&&0==glGame.OutSettingData.line_isOut.frequency?delete m.frequency:null!=glGame.OutSettingData.line.frequency&&""!=glGame.OutSettingData.line.frequency&&"frequency"!=glGame.OutSettingData.line.frequency&&(m[glGame.OutSettingData.line.frequency]=Number(m.frequency+""),delete m.frequency),null!=glGame.OutSettingData.line_isOut.rate&&0==glGame.OutSettingData.line_isOut.rate?delete m.rate:null!=glGame.OutSettingData.line.rate&&""!=glGame.OutSettingData.line.rate&&"rate"!=glGame.OutSettingData.line.rate&&(m[glGame.OutSettingData.line.rate]=Number(m.rate+""),delete m.rate),null!=glGame.OutSettingData.line_isOut.scale&&0==glGame.OutSettingData.line_isOut.scale?delete m.scale:null!=glGame.OutSettingData.line.scale&&""!=glGame.OutSettingData.line.scale&&"scale"!=glGame.OutSettingData.line.scale&&(m[glGame.OutSettingData.line.scale]=Number(m.scale+""),delete m.scale),null!=glGame.OutSettingData.line_isOut.desc&&0==glGame.OutSettingData.line_isOut.desc?delete m.desc:null!=glGame.OutSettingData.line.desc&&""!=glGame.OutSettingData.line.desc&&"desc"!=glGame.OutSettingData.line.desc&&(m[glGame.OutSettingData.line.desc]=m.desc+"",delete m.desc),null!=glGame.OutSettingData.line_isOut.runTime&&0==glGame.OutSettingData.line_isOut.runTime?delete m.runTime:null!=glGame.OutSettingData.line.runTime&&""!=glGame.OutSettingData.line.runTime&&"runTime"!=glGame.OutSettingData.line.runTime&&(m[glGame.OutSettingData.line.runTime]=Number(m.runTime+""),delete m.runTime),null!=glGame.OutSettingData.line_isOut.posArray&&0==glGame.OutSettingData.line_isOut.posArray?delete m.posArray:null!=glGame.OutSettingData.line.posArray&&""!=glGame.OutSettingData.line.posArray&&"posArray"!=glGame.OutSettingData.line.posArray&&(m[glGame.OutSettingData.line.posArray]=m.posArray,delete m.posArray),null!=glGame.OutSettingData.line_isOut.moveList&&0==glGame.OutSettingData.line_isOut.moveList?delete m.moveList:null!=glGame.OutSettingData.line.moveList&&""!=glGame.OutSettingData.line.moveList&&"moveList"!=glGame.OutSettingData.line.moveList&&(m[glGame.OutSettingData.line.moveList]=m.moveList,delete m.moveList),null!=glGame.OutSettingData.line_isOut.edgeList&&0==glGame.OutSettingData.line_isOut.edgeList?delete m.edgeList:null!=glGame.OutSettingData.line.edgeList&&""!=glGame.OutSettingData.line.edgeList&&"edgeList"!=glGame.OutSettingData.line.edgeList&&(m[glGame.OutSettingData.line.edgeList]=m.edgeList,delete m.edgeList)}null!=glGame.OutSettingData.group_isOut.id&&0==glGame.OutSettingData.group_isOut.id?delete h.id:null!=glGame.OutSettingData.group.id&&""!=glGame.OutSettingData.group.id&&"id"!=glGame.OutSettingData.group.id&&(h[glGame.OutSettingData.group.id]=h.id,delete h.id),null!=glGame.OutSettingData.group_isOut.fishLine&&0==glGame.OutSettingData.group_isOut.fishLine?delete h.fishLine:null!=glGame.OutSettingData.group.fishLine&&""!=glGame.OutSettingData.group.fishLine&&"fishLine"!=glGame.OutSettingData.group.fishLine&&(h[glGame.OutSettingData.group.fishLine]=h.fishLine,delete h.fishLine),null!=glGame.OutSettingData.group_isOut.type&&0==glGame.OutSettingData.group_isOut.type?delete h.type:null!=glGame.OutSettingData.group.type&&""!=glGame.OutSettingData.group.type&&"type"!=glGame.OutSettingData.group.type&&(h[glGame.OutSettingData.group.type]=h.type,delete h.type),null!=glGame.OutSettingData.group_isOut.range&&0==glGame.OutSettingData.group_isOut.range?delete h.range:null!=glGame.OutSettingData.group.range&&""!=glGame.OutSettingData.group.range&&"range"!=glGame.OutSettingData.group.range&&(h[glGame.OutSettingData.group.range]=h.range,delete h.range),null!=glGame.OutSettingData.group_isOut.desc&&0==glGame.OutSettingData.group_isOut.desc?delete h.desc:null!=glGame.OutSettingData.group.desc&&""!=glGame.OutSettingData.group.desc&&"desc"!=glGame.OutSettingData.group.desc&&(h[glGame.OutSettingData.group.desc]=h.desc,delete h.desc)}window.ipcRenderer&&window.ipcRenderer.send("outjson",JSON.stringify(e))},getOptionCopyLineType:function(){for(var e=glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").getChildByName("btn_copyLineOption").getChildByName("optionCopyLine").getChildByName("bg"),t=e.getChildByName("toggleContainer"),i=0,n=0;n<t.childrenCount;n++)if(t.children[n].getComponent(cc.Toggle).isChecked){var a=t.children[n].name;i=Number(a.split("optionCopyLineToggle")[1]);break}glGame.optionCopyLineType=i,glGame.optionCopyLineTypeReverseElectionX=e.getChildByName("toggleX").getComponent(cc.Toggle).isChecked?1:0,glGame.optionCopyLineTypeReverseElectionY=e.getChildByName("toggleY").getComponent(cc.Toggle).isChecked?1:0,console.warn(">>x\u7ffb\u8f6c\u9009\u9879 glGame.optionCopyLineTypeReverseElectionX ",glGame.optionCopyLineTypeReverseElectionX),console.warn(">>y\u7ffb\u8f6c\u9009\u9879 glGame.optionCopyLineTypeReverseElectionY ",glGame.optionCopyLineTypeReverseElectionY)},clickToggle:function(e){if(-1!=e.target.name.indexOf("optionCopyLineToggle")&&(glGame.optionCopyLineType=Number(e.target.name.split("optionCopyLineToggle")[1])),-1!=e.target.name.indexOf("optionCopyGroupToggle")){glGame.editor.node.getChildByName("fishGroupMenu").getChildByName("bg").getChildByName("btn_copyGroupOption").getChildByName("optionCopyGroup").active=!1;var t=Number(e.target.name.split("optionCopyGroupToggle")[1]);this.copyGroupToGroup(t),glGame.editor.node.getChildByName("fishGroupMenu").active=!1,glGame.editor.node.getChildByName("fishGroupMenu").getChildByName("bg").getChildByName("btn_copyGroupOption").getChildByName("optionCopyGroup").active=!1}if(-1!=e.target.name.indexOf("newpostoggle")){var i=Number(e.target.name.split("newpostoggle")[1]),n=glGame.P13[Number(i)];glGame.startPoint=n[0],glGame.controlPoint=n[1],glGame.endPoint=n[2]}},openAbout:function(){this.node.getChildByName("view_about").active||(this.node.getChildByName("view_about").stopAllActions(),this.node.getChildByName("view_about").opacity=0,this.node.getChildByName("view_about").active=!0,this.node.getChildByName("view_about").runAction(cc.fadeTo(.3,255)))},closeAbout:function(){this.node.getChildByName("view_about").active=!1},clickMenu:function(e,t){this.node.getChildByName(e).active=!1},creatorFishForResView:function(){cc.warn(" 1 > \u521b\u5efa\u9c7c\u5230\u8d44\u6e90\u5217\u8868  glGame.fishTable ",glGame.fishTable),this.node.getChildByName("fishTableImport").active=!1;var e=this.node.getChildByName("fishCanteiner").getChildByName("fishScrollView").getChildByName("view").getChildByName("content");e.removeAllChildren(!0);var t=this.node.getChildByName("fishCanteiner").getChildByName("fish");for(var i in glGame.fishTable){var n=glGame.fishTable[i],a=glGame.filePreFix+n.resGroupId,o=glGame.getAtlasForTexture(a,a+"_move1");if(o){var r=130/o.getOriginalSize().width,s=cc.instantiate(t);s.fishTypeId=Number(i),s.filename=a,s.name="resList_fish_"+n.resGroupId,s.active=!0,s.parent=null,s.width=o.getOriginalSize().width*r,s.height=o.getOriginalSize().height*r,e.addChild(s),e.height+=s.height;var l=glGame.editor.getFishResConfig(Number(i)),h=10*Number(l.frameRate);s.getComponent("fish_Unit").initResEditorFish(a,130,1,h)}else cc.warn("> \u521b\u5efa\u9c7c\u5230\u8d44\u6e90\u5217\u8868 \u65e0\u6cd5\u52a0\u8f7d\u7684\u8d44\u6e90 filename ",a," sprthis ",o)}},showCreatFishView:function(e){var t=this;if(glGame.editor.node.getChildByName("creatorFish").active=!0,glGame.isCreat=e,glGame.isCreat){glGame.editor.node.getChildByName("creatorFish").getChildByName("selectList").active=!0,glGame.editor.node.getChildByName("creatorFish").getChildByName("btn_creat").getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="\u521b\u5efa",this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_lineId").getChildByName("mask").active=!1,this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_rate").getChildByName("mask").active=!1;var i=glGame.lineID+glGame.GFishList.length+1,n=glGame.editor.getFishResConfig(this.clickFishTableTypeFishId),a=n.fishName;cc.warn(">> baseFishInfo ",n),this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_resGroupId").getChildByName("editbox").getComponent(cc.EditBox).string=n.resGroupId+"",this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_lineId").getChildByName("editbox").getComponent(cc.EditBox).string=i+"",this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_fishTypeId").getChildByName("editbox").getComponent(cc.EditBox).string=this.clickFishTableTypeFishId+"",this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_group").getComponent(cc.Label).string=glGame.currGIndex+"",this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_rate").getChildByName("editbox").getComponent(cc.EditBox).string=glGame.speed,this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_frequency").getChildByName("editbox").getComponent(cc.EditBox).string=glGame.runSpeed,this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_scale").getChildByName("editbox").getComponent(cc.EditBox).string=glGame.scale,this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_showTime").getChildByName("editbox").getComponent(cc.EditBox).string=glGame.showTime,this.node.getChildByName("creatorFish").getChildByName("lab_title").getComponent(cc.Label).string="\u521b\u5efa resGroupId:"+n.resGroupId+" ("+a+")"}else{glGame.editor.node.getChildByName("creatorFish").getChildByName("selectList").active=!1,this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_rate").getChildByName("mask").active=!0,glGame.editor.node.getChildByName("creatorFish").getChildByName("btn_creat").getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="\u66f4\u65b0",glGame.editor.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_group").getComponent(cc.Label).string=glGame.currGIndex+"";var o=glGame.FList[glGame.currGIndex].fishLine[glGame.editor.chooseFishID];this.node.getChildByName("creatorFish").getChildByName("lab_title").getComponent(cc.Label).string="\u9c7c\u7ebf\u4fe1\u606f "+glGame.editor.chooseFishID,this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_resGroupId").getChildByName("editbox").getComponent(cc.EditBox).string=o.resGroupId+"",this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_lineId").getChildByName("mask").active=!0,this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_fishTypeId").getChildByName("editbox").getComponent(cc.EditBox).string=o.fishTypeId+"",this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_lineId").getChildByName("editbox").getComponent(cc.EditBox).string=glGame.editor.chooseFishID+"",this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_showTime").getChildByName("editbox").getComponent(cc.EditBox).string=o.showTime+"",this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_rate").getChildByName("editbox").getComponent(cc.EditBox).string=o.rate+"",this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_frequency").getChildByName("editbox").getComponent(cc.EditBox).string=o.frequency+"",this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_scale").getChildByName("editbox").getComponent(cc.EditBox).string=o.scale+"",this.node.getChildByName("creatorFish").getChildByName("desc_editbox").getComponent(cc.EditBox).string=(o.desc?o.desc:"")+"",this.node.getChildByName("creatorFish").getChildByName("startPointSetting").getChildByName("start_editboxX").getComponent(cc.EditBox).string=o.posArray[0].x,this.node.getChildByName("creatorFish").getChildByName("startPointSetting").getChildByName("start_editboxY").getComponent(cc.EditBox).string=o.posArray[0].y,this.node.getChildByName("creatorFish").getChildByName("startPointSetting").getChildByName("control_editboxX").getComponent(cc.EditBox).string=o.posArray[1].x,this.node.getChildByName("creatorFish").getChildByName("startPointSetting").getChildByName("control_editboxY").getComponent(cc.EditBox).string=o.posArray[1].y,this.node.getChildByName("creatorFish").getChildByName("startPointSetting").getChildByName("end_editboxX").getComponent(cc.EditBox).string=o.posArray[2].x,this.node.getChildByName("creatorFish").getChildByName("startPointSetting").getChildByName("end_editboxY").getComponent(cc.EditBox).string=o.posArray[2].y}this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_fishTypeId").getChildByName("editbox").on("text-changed",function(e){var i=e.string;if(null==i||""==i||isNaN(i))cc.warn(">> \u8f93\u5165\u6821\u9a8c lab_fishTypeId text-changed ",i);else{var n=glGame.fishTable[Number(i)];null!=n?(cc.warn(">> lab_fishTypeId text-changed new data ",n),t.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_resGroupId").getChildByName("editbox").getComponent(cc.EditBox).string=n.resGroupId+""):glGame.editor.status("\u8bf7\u586b\u5199\u6b63\u786e\u7684fishTypeId")}})},creatFishData:function(){glGame.editor.node.getChildByName("creatorFish").active=!1;var e=this.node.getChildByName("creatorFish").getChildByName("desc_editbox").getComponent(cc.EditBox).string,t=Number(this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_resGroupId").getChildByName("editbox").getComponent(cc.EditBox).string),i=Number(this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_fishTypeId").getChildByName("editbox").getComponent(cc.EditBox).string),n=Number(this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_lineId").getChildByName("editbox").getComponent(cc.EditBox).string),a=Number(this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_showTime").getChildByName("editbox").getComponent(cc.EditBox).string),o=Number(this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_rate").getChildByName("editbox").getComponent(cc.EditBox).string),r=Number(this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_frequency").getChildByName("editbox").getComponent(cc.EditBox).string),s=Number(this.node.getChildByName("creatorFish").getChildByName("layout").getChildByName("lab_scale").getChildByName("editbox").getComponent(cc.EditBox).string);if(glGame.isCreat){glGame.speed=o;var l=[glGame.startPoint,glGame.controlPoint,glGame.endPoint],h=[glGame.speed,glGame.speed,glGame.speed],d=glGame.getMaxIndexByTime(l,h);glGame.addNewLineId=n,console.error("> \u521b\u5efa\u9c7c\u754c\u9762\u70b9 \u786e\u5b9a - \u5f00\u59cb\u521b\u5efa addNewLineId "+glGame.addNewLineId),glGame.FList[glGame.currGIndex].fishLine[n]={groupID:glGame.currGIndex,lineID:n,resGroupId:t,fishTypeId:i,showTime:a,frequency:r,rate:o,scale:s,desc:e,runTime:d,posArray:l,moveList:h},glGame.drawStart?glGame.editor.status("\u5f53\u524d\u9c7c\u7ec4ID "+glGame.currGIndex):(glGame.editor.status("TIPS: \u8d1d\u585e\u5c14\u70b9\uff0c\u9f20\u6807\u53f3\u952e\u5373\u53ef\u5220\u9664",glGame.Color.RED),this.scheduleOnce(function(){glGame.editor.status("\u5f53\u524d\u9c7c\u7ec4ID "+glGame.currGIndex)},3)),glGame.currLineItem=glGame.FList[glGame.currGIndex].fishLine[glGame.lineID],glGame.currLineItem=glGame.FList[glGame.currGIndex].fishLine[n],glGame.editor.updateFishLineToCanvas(),cc.warn(">>> glGame.speed "+glGame.speed)}else null==a||isNaN(Number(a))||(glGame.FList[glGame.currGIndex].fishLine[n].showTime=Number(a)),null==t||isNaN(Number(t))||(glGame.FList[glGame.currGIndex].fishLine[n].resGroupId=Number(t)),null==i||isNaN(Number(i))||(glGame.FList[glGame.currGIndex].fishLine[n].fishTypeId=Number(i)),null==o||isNaN(Number(o))||(glGame.FList[glGame.currGIndex].fishLine[n].rate=Number(o)),null==r||isNaN(Number(r))||(glGame.FList[glGame.currGIndex].fishLine[n].frequency=Number(r)),null==s||isNaN(Number(s))||(glGame.FList[glGame.currGIndex].fishLine[n].scale=Number(s)),void 0!=e&&""!=e&&(glGame.FList[glGame.currGIndex].fishLine[n].desc=e),glGame.editor.updateFishLineToCanvas(null,n)},creatFishUnitToDeskUI:function(e,t,i,n,a,o){var r=this.node.getChildByName("deskUI"),s=cc.instantiate(this.node.getChildByName("fishCanteiner").getChildByName("fish2"));return s.active=!0,s.name="fish_"+e,s.parent=r,n&&(s.position=n),s.getComponent("fish_Unit").initEditorFish(t,i,a,o),s},updateFishLineToCanvas:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.node.getChildByName("fishLineCanteiner").getChildByName("fishLineScrollView").getChildByName("view").getChildByName("content");if(t){if(glGame.currLineItem&&glGame.currLineItem.lineID==t){var o=glGame.FList[glGame.currGIndex].fishLine;if(o)for(var r in o)if(glGame.currLineItem.lineID!=r){glGame.currLineItem=o[r],this.getFishToCanvas(glGame.currentFish.lineID);break}var s=a.getChildByName("Fish_"+t);return a.height-=s.height-2,void s.destroy()}var l=a.getChildByName("Fish_"+t);return a.height-=l.height-2,void l.destroy()}if(null!=glGame.addNewLineId){var h=Number(glGame.addNewLineId+""),d=glGame.FList[glGame.currGIndex].fishLine[h];return glGame.currentFish&&(glGame.currentFish=null),this.addLine(d,h),glGame.currentFish&&this.getFishToCanvas(glGame.currentFish.lineID),void(glGame.addNewLineId=null)}if(null!=i){var g=this.node.getChildByName("deskUI");return glGame.currentFish=g.getChildByName("fish_"+i),void this.getFishToCanvas(glGame.currentFish.lineID)}if(n||(a.removeAllChildren(!0),a.height=0),glGame.currentFish&&(glGame.currentFish=null),glGame.GFishList&&glGame.GFishList.length>0)for(var m=glGame.GFishList.length,c=0;c<m;c++){var u=glGame.GFishList.pop();u&&void 0!=u._components&&u.getComponent("fish_Unit")&&u.getComponent("fish_Unit").dispose()}glGame.GFishList=[];var p=0;if(void 0!=glGame.searchList)for(var y in glGame.searchList)p++;if(p>0?e=glGame.searchList:glGame.FList[glGame.currGIndex]&&(e=glGame.FList[glGame.currGIndex].fishLine),e){for(var f in e){var G=Number(f),C=e[G];n?null==a.getChildByName("Fish_"+G)&&this.addLine(C,G):this.addLine(C,G)}glGame.currentFish&&this.getFishToCanvas(glGame.currentFish.lineID)}else glGame.editor.status("\u5f53\u524d\u9c7c\u7ec4\u662f\u7a7a\u7684\uff0c\u8bf7\u521b\u5efa\u4e00\u6761\u9c7c\uff01")},addLine:function(e,t){if(e){var i=this.node.getChildByName("fishLineCanteiner").getChildByName("fishLineScrollView").getChildByName("view").getChildByName("content"),n=this.node.getChildByName("fishLineCanteiner").getChildByName("LineItem"),a=e.posArray[0],o=Number(glGame.editor.getFishResConfig(Number(e.fishTypeId)).frameRate),r=this.creatFishUnitToDeskUI(t,e.resGroupId,e.resType,a,e.scale,o*e.frequency*10);r.lineID=t,r.fishTypeId=Number(e.fishTypeId),glGame.GFishList.push(r),r.getComponent("fish_Unit").setMoveData(e);var s,l=cc.instantiate(n);l.active=!0,l.fishData=e,l.lineID=t,l.fishTypeId=Number(e.fishTypeId),l.name="Fish_"+t,null==glGame.fishTable[Number(e.fishTypeId)]?(s="\u627e\u4e0d\u5230\u914d\u7f6e "+e.fishTypeId,cc.error(" \u627e\u4e0d\u5230\u914d\u7f6e,\u8bf7\u68c0\u67e5\u9c7c\u8868\u914d\u7f6e : ",e.fishTypeId," glGame.fishTable ",glGame.fishTable)):s=glGame.fishTable[Number(e.fishTypeId)].fishName,l.filename=glGame.filePreFix+e.resGroupId,l.getChildByName("lab_name").getComponent(cc.Label).string=s+"_"+t,null!=glGame.currLineItem&&glGame.currLineItem.lineID==t&&null==glGame.currentFish&&(glGame.currLineItem=e,glGame.currentFish=r,glGame.lastItemNode&&glGame.lastItemNode.getChildByName("heightLine")&&(glGame.lastItemNode.getChildByName("heightLine").active=!1),glGame.lastItemNode=l,glGame.lastItemNode.getChildByName("heightLine").active=!0),i.addChild(l),i.height+=l.height+50}},getFishToCanvas:function(e){var t=glGame.FList[glGame.currGIndex].fishLine[e];null!=t?(glGame.drawBezier.clearCurrFishLine(),glGame.drawBezier.initDataFormFishPointList(t)):glGame.editor.status("\u627e\u4e0d\u5230 "+e+" \u9c7c\u7ebf")},updateGroupToCanteinerAndFishLineToCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.node.getChildByName("fishGroupCanteiner").getChildByName("fishGroupScrollView").getChildByName("view").getChildByName("content");if(e){var n=i.getChildByName("Group_"+e);return i.height-=n.height-2,void n.destroy()}i.removeAllChildren(!0),i.height=0;var a,o=this.node.getChildByName("fishGroupCanteiner").getChildByName("GroupItem"),r=0;if(void 0!=glGame.SearchFList)for(var s in glGame.SearchFList){r++;break}a=r>0?glGame.SearchFList:glGame.FList;var l=0;for(var h in a){l++;var d=a[h],g=cc.instantiate(o);g.active=!0,g.groupData=d,g.groupID=h,g.name="Group_"+h,i.height+=g.height+2,g.getChildByName("lab_name").getComponent(cc.Label).string=""+h,h==glGame.currGIndex&&(glGame.currGItem=g,g.getChildByName("heightLine").active=!0),i.addChild(g)}t||l>0&&this.updateFishLineToCanvas()},showCreatorFishGroupView:function(){if(glGame.atlasList)if(glGame.fishTable){var e=this.node.getChildByName("fishGoulpInfomation");if(e.active=!e.active,glGame.isCreator){e.getChildByName("titleBg").getChildByName("lab_group").getComponent(cc.Label).string="\u9c7c\u7ec4\u521b\u5efa",e.getChildByName("mask").active=!1;for(var t=glGame.currGIndex;null!=glGame.FList[t];)t++;glGame.tmpAddGroupInfoCgi=t,e.getChildByName("groupid_editbox").getComponent(cc.EditBox).string=glGame.tmpAddGroupInfoCgi+"",glGame.editor.status("\u8bf7\u586b\u5199\u9c7c\u7ec4\u4fe1\u606f\uff01")}else{e.getChildByName("titleBg").getChildByName("lab_group").getComponent(cc.Label).string="\u9c7c\u7ec4\u7f16\u8f91",e.getChildByName("mask").active=!0;var i=glGame.FList[glGame.tmpGroupId];e.getChildByName("groupid_editbox").getComponent(cc.EditBox).string=glGame.tmpGroupId+"",e.getChildByName("desc_editbox").getComponent(cc.EditBox).string=(i.desc?i.desc:"")+"",e.getChildByName("range_editbox").getComponent(cc.EditBox).string=i.range+"",e.getChildByName("type_editbox").getComponent(cc.EditBox).string=i.type}}else glGame.editor.alert("\u8bf7\u5bfc\u5165 \u9c7c\u8868 \u540e\u518d\u521b\u5efa\u9c7c\u7ec4\uff01");else glGame.editor.alert("\u8bf7\u9009\u62e9 \u56fe\u96c6\u8def\u5f84 \u540e\u518d\u521b\u5efa\u9c7c\u7ec4\uff01")},creatFishGroupSubmit:function(){var e=this.node.getChildByName("fishGoulpInfomation"),t=e.getChildByName("desc_editbox").getComponent(cc.EditBox).string,i=Number(e.getChildByName("type_editbox").getComponent(cc.EditBox).string),n=Number(e.getChildByName("range_editbox").getComponent(cc.EditBox).string);glGame.isCreator?(glGame.tmpAddGroupInfoCgi=Number(e.getChildByName("groupid_editbox").getComponent(cc.EditBox).string),glGame.FList[glGame.tmpAddGroupInfoCgi]={id:glGame.tmpAddGroupInfoCgi,fishLine:{},type:i,range:n,desc:t},glGame.currGIndex=glGame.tmpAddGroupInfoCgi,glGame.currentFish&&glGame.currentFish.getComponent("fish_Unit").dispose(),glGame.drawBezier.clearCurrFishLine(),glGame.currentFish=null,glGame.editor.updateGroupToCanteinerAndFishLineToCanvas()):(glGame.FList[glGame.tmpGroupId].desc=t,glGame.FList[glGame.tmpGroupId].type=i,glGame.FList[glGame.tmpGroupId].range=n),e.active=!1,glGame.isCreator=!0},status:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.node.getChildByName("lab_status").color=t||glGame.Color.HAFEBCAK,this.node.getChildByName("lab_status").getComponent(cc.Label).string="\u72b6\u6001\u680f: "+e},alert:function(e,t){var i=cc.instantiate(glGame.editor.node.getChildByName("alertView"));i.parent=this.node,i.active=!0,i.getChildByName("lab_context").getComponent(cc.Label).string=e,i.getChildByName("btn_readLastData_ok").on(cc.Node.EventType.MOUSE_DOWN,function(e){e.stopPropagation(),e.currentTarget.parent.destroy(),t&&t(!0)}),i.getChildByName("btn_readLastData_canel").on(cc.Node.EventType.MOUSE_DOWN,function(e){e.stopPropagation(),e.currentTarget.parent.destroy(),t&&t(!1)}),i.getChildByName("btn_readLastData_no").on(cc.Node.EventType.MOUSE_DOWN,function(e){e.stopPropagation(),e.currentTarget.parent.destroy(),t&&t(!1)})},getCopuLineNumOffSet:function(e){var t,i;if(0==e){var n=glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").getChildByName("btn_copyLineOption").getChildByName("optionCopyLine");t=n.getChildByName("bg").getChildByName("toggleContainer").getChildByName("optionCopyLineToggle3").getChildByName("Xeditbox").getComponent(cc.EditBox).string,i=n.getChildByName("bg").getChildByName("toggleContainer").getChildByName("optionCopyLineToggle3").getChildByName("Yeditbox").getComponent(cc.EditBox).string}return{x:null==t||void 0==t||""==t?0:Number(t),y:null==i||void 0==i||""==i?0:Number(i)}},getCopyLineTimeOffSet:function(e){var t;0==e&&(t=glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").getChildByName("btn_copyLineOption").getChildByName("optionCopyLine").getChildByName("bg").getChildByName("timeEditbox").getComponent(cc.EditBox).string);return""==t?0:Number(t)},getCopyLinefishTypeId:function(){return glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").getChildByName("btn_copyLineOption").getChildByName("optionCopyLine").getChildByName("bg").getChildByName("fishTypeIdEditbox").getComponent(cc.EditBox).string},clearcopyFishLineArg:function(){var e=glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").getChildByName("btn_copyLineOption").getChildByName("optionCopyLine");e.getChildByName("bg").getChildByName("lineIDEditbox").getComponent(cc.EditBox).string="",e.getChildByName("bg").getChildByName("numberEditbox").getComponent(cc.EditBox).string="",e.getChildByName("bg").getChildByName("fishTypeIdEditbox").getComponent(cc.EditBox).string="",e.getChildByName("bg").getChildByName("timeEditbox").getComponent(cc.EditBox).string="",e.getChildByName("bg").getChildByName("toggleContainer").getChildByName("optionCopyLineToggle3").getChildByName("Xeditbox").getComponent(cc.EditBox).string="",e.getChildByName("bg").getChildByName("toggleContainer").getChildByName("optionCopyLineToggle3").getChildByName("Yeditbox").getComponent(cc.EditBox).string="",e.getChildByName("bg").getChildByName("toggleContainer").getChildByName("optionCopyLineToggle4").getComponent(cc.Toggle).isChecked=!0},copyFishLineToGroup:function(e,t,i,n,a,o,r,s){var l,h;if(3==n){var d=this.getCopuLineNumOffSet(0);l=d.x,h=d.y}for(var g=0;g<a;g++){for(var m=0,c=Number(i)+m;null!=glGame.FList[t].fishLine[c];)m++,c=Number(i)+m;var u=glGame.FList[e].fishLine[i];glGame.FList[t].fishLine||(glGame.FList[t].fishLine={}),glGame.FList[t].fishLine[c]=JSON.parse(JSON.stringify(u)),glGame.FList[t].fishLine[c].lineID=c,glGame.FList[t].fishLine[c].groupID=t;var p=glGame.FList[t].fishLine[c].showTime;p||(p=0),o||(o=0);var y=glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").getChildByName("btn_copyLineOption").getChildByName("optionCopyLine"),f=y.getChildByName("bg").getChildByName("lineIDEditbox").getComponent(cc.EditBox).string;""==f||void 0==f||null==f||(glGame.FList[t].fishLine[c].lineID=Number(f));var G=y.getChildByName("bg").getChildByName("fishTypeIdEditbox").getComponent(cc.EditBox).string;if(""==G||void 0==G||null==G);else{glGame.FList[t].fishLine[c].fishTypeId=Number(G);var C=glGame.editor.getFishResConfig(Number(G));glGame.FList[t].fishLine[c].resGroupId=C.resGroupId}if(glGame.FList[t].fishLine[c].showTime=p+(g*o+o),1==r&&this.setPostReverseWay(t,c,-1,1),1==s&&this.setPostReverseWay(t,c,1,-1),2==n)this.startPointChangeEndPoint(t,c);else if(3==n){var v=g*l+l,N=g*h+h;this.setPostOffsexXY(t,null,v,N)}}this.updateFishLineToCanvas(null,null,!0),this.clearcopyFishLineArg()},copyFishLineToLine:function(e,t,i,n,a,o,r,s){var l,h;if(3==i){var d=this.getCopuLineNumOffSet(0);l=d.x,h=d.y}for(var g=0;g<n;g++){for(var m=0,c=e,u=Number(t)+m;null!=glGame.FList[c].fishLine[u]||u==glGame.lineID;)m++,u=Number(t)+m;var p=glGame.FList[e].fishLine[t];glGame.FList[c].fishLine[u]=JSON.parse(JSON.stringify(p)),glGame.FList[c].fishLine[u].lineID=u,glGame.FList[c].fishLine[u].groupID=c;var y=glGame.FList[c].fishLine[u].showTime;if(y||(y=0),a||(a=0),glGame.FList[c].fishLine[u].showTime=y+(g*a+a),null!=o&&""!=o&&!isNaN(Number(o))){glGame.FList[c].fishLine[u].fishTypeId=o;var f=glGame.editor.getFishResConfig(Number(o));glGame.FList[c].fishLine[u].resGroupId=f.resGroupId}var G=glGame.editor.node.getChildByName("chooseFishingLine").getChildByName("bg").getChildByName("btn_copyLineOption").getChildByName("optionCopyLine").getChildByName("bg").getChildByName("lineIDEditbox").getComponent(cc.EditBox).string;if(""==G||void 0==G||null==G||(glGame.FList[c].fishLine[u].lineID=Number(G)),1==r&&this.setPostReverseWay(c,u,-1,1),1==s&&this.setPostReverseWay(c,u,1,-1),2==i)this.startPointChangeEndPoint(c,u);else if(3==i){var C=g*l+l,v=g*h+h;this.setPostOffsexXY(c,u,C,v)}}this.updateFishLineToCanvas(null,null,!0),this.clearcopyFishLineArg()},copyGroupToGroup:function(e){if(3==e){var t=this.getCopuLineNumOffSet(1);n=t.x,a=t.y}for(var n,a,o=0,r=glGame.startGroupIndex+o;null!=glGame.FList[r];)o++,r=glGame.startGroupIndex+o;var s=glGame.FList[glGame.tmpGroupId];for(var l in glGame.FList[r]=JSON.parse(JSON.stringify(s)),glGame.FList[r].id=r,glGame.FList[r].fishLine)glGame.FList[r].fishLine[l].groupID=r;if(0==e)this.setPostReverseWay(r,null,-1,1);else if(1==e)this.setPostReverseWay(r,null,1,-1);else if(2==e)this.startPointChangeEndPoint(r,null);else if(3==e){var h=i*n+n,d=i*a+a;this.setPostOffsexXY(r,null,h,d)}this.updateGroupToCanteinerAndFishLineToCanvas()},setPostReverseWay:function(e,t,i,n){if(t)for(var a=0;a<glGame.FList[e].fishLine[t].posArray.length;a++)-1==i&&(glGame.FList[e].fishLine[t].posArray[a].x=-glGame.FList[e].fishLine[t].posArray[a].x),-1==n&&(glGame.FList[e].fishLine[t].posArray[a].y=-glGame.FList[e].fishLine[t].posArray[a].y);else for(var o in glGame.FList[e].fishLine)for(var r=0;r<glGame.FList[e].fishLine[o].posArray.length;r++)-1==i&&(glGame.FList[e].fishLine[o].posArray[r].x=-glGame.FList[e].fishLine[o].posArray[r].x),-1==n&&(glGame.FList[e].fishLine[o].posArray[r].y=-glGame.FList[e].fishLine[o].posArray[r].y)},setPostOffsexXY:function(e,t,i,n){if(t)for(var a=0;a<glGame.FList[e].fishLine[t].posArray.length;a++)glGame.FList[e].fishLine[t].posArray[a].x+=i,glGame.FList[e].fishLine[t].posArray[a].y+=n;else for(var o in glGame.FList[e].fishLine)for(var r=0;r<glGame.FList[e].fishLine[o].posArray.length;r++)glGame.FList[e].fishLine[o].posArray[r].x+=i,glGame.FList[e].fishLine[o].posArray[r].y+=n},startPointChangeEndPoint:function(e,t){if(t){for(var i=[],n=glGame.FList[e].fishLine[t].posArray.length-1;n>-1;n--)i.push(glGame.FList[e].fishLine[t].posArray[n]);glGame.FList[e].fishLine[t].posArray=i}else for(var a in glGame.FList[e].fishLine){for(var o=[],r=glGame.FList[e].fishLine[a].posArray.length-1;r>-1;r--)o.push(glGame.FList[e].fishLine[a].posArray[r]);glGame.FList[e].fishLine[a].posArray=o}},hideOrShowFish:function(e){if(glGame.GFishList.length>0)for(var t=glGame.GFishList.length,i=0;i<t;i++){glGame.GFishList[i].active=e}},hideOrShowFish2:function(){if(glGame.GFishList.length>0)for(var e=glGame.GFishList.length,t=0;t<e;t++){var i=glGame.GFishList[t];i.active=!i.active}},importJson:function(e){if(e){if(!glGame.currGIndex)for(var t in e){glGame.currGIndex=t;break}if(glGame.FList){var i=!0,n="\u5bfc\u5165 ";for(var a in e)if(glGame.FList[a]){for(var o=1,r=glGame.startGroupIndex+o;null!=glGame.FList[r];)o++,r=glGame.startGroupIndex+o;n+="\u9c7c\u7ec4\uff1a"+a+"\u91cd\u590d\uff0c\u66f4\u6362\u4e3a:"+r,glGame.FList[r]=e[a],i=!1}else glGame.FList[a]=e[a],glGame.editor.status("\u5bfc\u5165\u6210\u529f\uff0c\u65e0\u91cd\u590d\u9c7c\u7ec4\uff01");i&&glGame.editor.status(n)}else glGame.FList=e;glGame.isImport=!0;var s,l=0;for(var h in glGame.FList){for(var d in glGame.currGIndex=h,s=glGame.FList[glGame.currGIndex].fishLine)void 0==s[d].frequency&&(s[d].frequency=glGame.runSpeed),void 0==s[d].fishTypeId&&(s[d].fishTypeId="");l++}if(s)for(var g in s){glGame.currLineItem=s[g],glGame.editor.updateGroupToCanteinerAndFishLineToCanvas();break}else l>0&&glGame.editor.updateGroupToCanteinerAndFishLineToCanvas();glGame.editor.status("\u5bfc\u5165\u6210\u529f")}else glGame.editor.status("\u5bfc\u5165\u5931\u8d25\uff0c\u6587\u4ef6\u635f\u574f")},showResEditView:function(e){}}),cc._RF.pop()},{}],fishConst:[function(e,t,i){"use strict";cc._RF.push(t,"5790fHaeeRDQosvK/zHHIZQ","fishConst"),t.exports={nodeZIndex:{zIndexFish:100,zIndexBullet:200,zIndexFreeze:300,zIndexPartBoom:400,zIndexAllBoom:500,zIndexTowerNet:600,zIndexGoldColumn:700,zIndexGold:800,zIndexRotateEffect:900,zIndexAni:950,zIndexFunction:1e3,zIndexTower:2100,zIndexTip:1200,zIndexAround:1300,zIndexTouch:2e3},Boom:31,Fish15:15,Fish16:16,Fish17:17,Fish18:18,Fish19:19,Fish20:20,Fish22:22,Fish31:31,PowGunBullet:"bullet_1_10_",dieType0:0,dieType1:1,dieType2:2,dieType3:3,dieType4:4,SpecialEffectType:{IC:1,Boom:2,Group:3,Lightning:4}},cc._RF.pop()},{}],fish_MovieClip:[function(e,t,i){"use strict";cc._RF.push(t,"b697bz4emtJaq+wn7Ij4A7B","fish_MovieClip");var n=e("fishConst");glGame.movieClip=cc.Class({extends:cc.Component,properties:{movieClipType:{default:1,displayName:"\u7c7b\u578b",tooltip:"\u52a8\u753b\u7c7b\u578b 1 \u9c7c \u3001 2\u7279\u6548",type:cc.Integer}},initAtlas:function(e){this.fish_Atlas=e},initEffect:function(e,t,i,n,a,o,r,s){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.atlas=e,this.payName=t,this.effectIndex=i,this.min=i,this.max=n,this.loop=a,this.playEffectTime=0,this.playEffectSpeed=r,this.isHaveZero=o,this.isDestroy=s,this.callBack=l,this.node.getComponent(cc.Sprite).spriteFrame=this.atlas.getSpriteFrame(this.getSprName()),this.isPlayEffect=!0},getSprName:function(){return this.isHaveZero&&this.effectIndex<10?this.payName+"0"+this.effectIndex:this.payName+""+this.effectIndex},initEffectScaleTo:function(e,t,i,a,o){var r=this,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.3,l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.atlas=e,this.payName=t,this.node.getComponent(cc.Sprite).spriteFrame=this.atlas.getSpriteFrame(this.payName),this.node.scale=0,this.node.stopAllActions();var d=n.nodeZIndex.zIndexPartBoom+Math.ceil(200*Math.random());this.node.zIndex=d>cc.macro.MAX_ZINDEX?cc.macro.MAX_ZINDEX-1:d,this.node.runAction(cc.sequence(cc.scaleTo(i,a,a),cc.delayTime(s),cc.callFunc(function(){l?(h&&h(),r.node.destroy()):(h&&h(),r.node.active=!1)})))},initEffectScaleAndRotateTo:function(e,t,i,a,o,r){var s=this,l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.atlas=e,this.payName=t,this.node.getComponent(cc.Sprite).spriteFrame=this.atlas.getSpriteFrame(this.payName),this.node.scaleX=o,this.node.scaleY=r,this.node.stopAllActions();var d=n.nodeZIndex.zIndexPartBoom+Math.ceil(200*Math.random());this.node.zIndex=d>cc.macro.MAX_ZINDEX?cc.macro.MAX_ZINDEX-1:d;var g=cc.spawn(cc.repeat(cc.rotateBy(i,360),2),cc.scaleTo(a,.01,.01));this.node.runAction(cc.sequence(g,cc.callFunc(function(){l?(h&&h(),s.node.destroy()):(h&&h(),s.node.active=!1)})))},update:function(e){void 0!=this.isPlayEffect&&1==this.isPlayEffect&&(0==this.loop||this.loop>0?(this.playEffectTime+=e,this.playEffectTime>this.playEffectSpeed&&(this.playEffectTime=0,this.node.getComponent(cc.Sprite).spriteFrame=this.atlas.getSpriteFrame(this.getSprName()),this.effectIndex++,this.effectIndex>=this.max&&(0!=this.loop?(this.loop--,this.loop<=0?(this.loop=-1,this.isPlayEffect=!1,this.node.active=!1):this.effectIndex=this.min):0==this.loop&&this.effectIndex>this.max&&(this.effectIndex=this.min)))):(this.callBack&&this.callBack(),this.isDestroy?this.node.destroy():(this.loop=-1,this.isPlayEffect=!1,this.node.active=!1)))},initFishMovieClip:function(){this.lineID=null,this.fishMoveTimeId=0,this.runfrequency=10,this.runSpeed=.013*this.runfrequency,this.isStart=!1,this.data=null,this.index=0,this.MaxIndex=0,this.mcBaseName=null,this.currAtl=null},updateFrequency:function(e){this.runSpeed=e},setFIsh:function(e){this.data=e,this.index=1,this.mcBaseName=this.data.filename+"_move";var t=this.getImg();this.initSpr(t),this.node.setScale(this.editScale),this.isStart=!0},setResFIsh:function(e){this.filename=e,this.index=1,this.mcBaseName=this.filename+"_move";var t=this.getImg(),i=this.maxW/t.getOriginalSize().width;this.node.width=t.getOriginalSize().width*i,this.node.height=t.getOriginalSize().height*i,this.initSpr(t),this.node.setScale(this.editScale),this.isStart=!0},playFishMovieClip:function(e){if(this.isStart&&void 0!==this.lineID&&(this.fishMoveTimeId+=e,this.fishMoveTimeId>this.runSpeed)){var t=this.getImg();t||(0===this.MaxIndex&&(this.MaxIndex=this.index),this.index=1,t=this.getImg()),this.initSpr(t),this.index++,0!==this.MaxIndex&&this.index>=this.MaxIndex&&(this.index=1),this.fishMoveTimeId=0}},getImg:function(){var e=this.getSpriteAtlas(this.mcBaseName+this.index);return null==e&&1==this.index?(console.error("\u627e\u4e0d\u5230\u9c7c\u56fe frameName: "+this.mcBaseName+this.index," data ",this.data),this.mcBaseName="fish1_move",this.index=1,this.getSpriteAtlas(this.mcBaseName+this.index)):e},initSpr:function(e){this.node.getComponent(cc.Sprite).spriteFrame=e},getSpriteAtlas:function(e){if(null==this.fish_Atlas)return glGame.getAtlasForTexture(this.filename,e);if(this.currAtl&&null!=this.fish_Atlas[this.currAtl].getSpriteFrame(e))return this.fish_Atlas[this.currAtl].getSpriteFrame(e);for(var t,i=this.fish_Atlas.length,n=0;n<i;n++)if(t=this.fish_Atlas[n].getSpriteFrame(e))return this.currAtl=n,t},OnDestroy:function(){this.lineID=null,this.fishMoveTimeId=0,this.runSpeed=0,this.isStart=!1,this.data=null,this.index=0,this.mcBaseName=null,this.currAtl=null}}),cc._RF.pop()},{fishConst:"fishConst"}],fish_Unit:[function(e,t,i){"use strict";cc._RF.push(t,"be23aQJoUNJ4IC7Oa+hNk0A","fish_Unit");var n=e("fishConst");glGame.movieClip.extend({properties:{resID:"?",resType:0},onLoad:function(){this.initFishMovieClip(.1),this.whirlpool=null,this.fishData=null,this.fishLine=null,this.fishPath=null,this._bUpdate=!1,this.timeIndex=0,this.moveList=null,this.posArray=null,this.isHit=!1,this.hitTime=0,this.delayedPause=0,this.isMouseDown=!1},initFish:function(e){if(this.fishData=e,this.moveList=this.fishData.moveList,this.posArray=this.fishData.posArray,this.showTime=this.fishData.showTime,this.runTime=this.fishData.runTime,void 0!=this.fishData.frequency&&(this.runSpeed=this.fishData.frequency,cc.error(">> \u521d\u59cb\u5316\u9c7c\uff0c\u72b6\u6001\u540c\u6b65\u4e2d\u5fc3 "+this.runSpeed)),this._startTime=(e.serverTime-e.createTime)/1e3,this._startTime<0&&(this.showTime+=Math.abs(Number(this._startTime+"")),this._startTime=0),this._allTime=this.runTime+this.showTime,this._startTime>=this._allTime)this.death(n.dieType0);else{this._startTime>=this.showTime?(this.showTime>0&&(this._startTime-=this.showTime),this._bUpdate=!0,this.startMove()):(this.node.getComponent(cc.Sprite).enabled=!1,this.showTime-=Number(this._startTime+""),this._startTime-=Number(this._startTime+""),this._startTime<0&&(this._startTime=0),this._bUpdate=!0),this.fishData.res=this.resID,this._time=Date.now(),this.node.x=this.posArray[0].x,this.node.y=this.posArray[0].y;var t=n.nodeZIndex.zIndexFish+(Number(100)+Math.ceil(30*Math.random()));this.node.zIndex=t>cc.macro.MAX_ZINDEX?cc.macro.MAX_ZINDEX-1:t}},setTips:function(){var e=this,t=glGame.editor.node.getChildByName("tips").getChildByName("layout").getChildByName("lab_desc_id"),i=glGame.editor.node.getChildByName("tips").getChildByName("layout").getChildByName("lab_id");this.node.on(cc.Node.EventType.MOUSE_ENTER,function(n){glGame.editor.node.getChildByName("tips").active=!0,i.active=!0;var a=glGame.fishTable[Number(e.node.fishTypeId)];t.getComponent(cc.Label).string="fishTypeId:"+a.fishTypeId,glGame.editor.node.getChildByName("tips").getChildByName("layout2").getChildByName("lab_d").getComponent(cc.Label).string=a.fishName+"",glGame.editor.node.getChildByName("tips").getChildByName("layout2").getChildByName("lab_d").active=!0,glGame.editor.node.getChildByName("tips").getChildByName("layout2").getChildByName("lab_desc").active=!0,glGame.editor.node.getChildByName("tips").getChildByName("bg").height=150,glGame.editor.node.getChildByName("tips").getChildByName("bg").width=300},this.node),this.node.on(cc.Node.EventType.MOUSE_MOVE,function(e){var t=glGame.editor.node.convertToNodeSpaceAR(e.getLocation());t.x-=10,glGame.editor.node.getChildByName("tips").setPosition(t)},this.node),this.node.on(cc.Node.EventType.MOUSE_LEAVE,function(e){glGame.editor.node.getChildByName("tips").active=!1},this.node)},start:function(){var e=this;-1!=this.node.name.indexOf("resList_fish_")&&this.setTips(),this.node.on(cc.Node.EventType.MOUSE_DOWN,function(t){t.getButton()==cc.Event.EventMouse.BUTTON_LEFT&&(t.stopPropagation(),-1!=e.node.name.indexOf("resList_fish_")?(null!=glGame.currentEditFish&&(glGame.currentEditFish.node.color=cc.color(255,255,255,255)),glGame.currentEditFish=e,glGame.currentEditFish.node.color=cc.color(190,0,0,255)):"fish"!=e.node.name&&(e.isMouseDown=!0)),t.getButton()==cc.Event.EventMouse.BUTTON_RIGHT&&"fish"!=e.node.name&&glGame.currLineItem&&glGame.currLineItem.lineID!=e.node.lineID&&null!=glGame.FList[glGame.currGIndex].fishLine[e.node.lineID]&&(glGame.currLineItem=glGame.FList[glGame.currGIndex].fishLine[e.node.lineID],glGame.editor.updateFishLineToCanvas(null,e.node.lineID),t.stopPropagation())});var t=function(t){var i=t.getDelta();if(e.isMouseDown){e.node.x+=i.x,e.node.y+=i.y,cc.game.canvas.style.cursor="all-scroll";var n=glGame.drawBezier.node.getChildByName("point_0");if(n){var a=e.convertToNodeSpace(t);if(lcl.Events.emit("setMouseLocation",a),n.opacity=100,cc.game.canvas.style.cursor="all-scroll",n){var o=e.convertToNodeSpace(t);n.setPosition(o)}}}};this.node.parent.on(cc.Node.EventType.MOUSE_MOVE,t),this.node.on(cc.Node.EventType.MOUSE_MOVE,t);var i=function(t){e.isMouseDown=!1,cc.game.canvas.style.cursor="auto"};this.node.on(cc.Node.EventType.MOUSE_UP,i),this.node.parent.on(cc.Node.EventType.MOUSE_UP,i),this.node.on(cc.Node.EventType.MOUSE_ENTER,function(t){glGame.editor.node.getChildByName("tips").active=!0;var i=glGame.editor.getFishResConfig(e.node.filename);i||glGame.editor.status("\u627e\u4e0d\u5230\u8d44\u6e90\u914d\u7f6e",glGame.Color.RED);var n=glGame.editor.node.getChildByName("tips").getChildByName("layout").getChildByName("lab_desc_id"),a=glGame.editor.node.getChildByName("tips").getChildByName("layout").getChildByName("lab_id");if(i&&(n.getComponent(cc.Label).string="FishId:"+i.lineID),null!=glGame.FList[glGame.currGIndex]&&null!=glGame.FList[glGame.currGIndex].fishLine){var o=glGame.FList[glGame.currGIndex].fishLine[e.node.lineID]?glGame.FList[glGame.currGIndex].fishLine[e.node.lineID]:null,r=o?o.rate:-1;i&&(glGame.editor.node.getChildByName("tips").getChildByName("layout2").getChildByName("lab_d").getComponent(cc.Label).string=i.FishName+"("+r+"s) \u7f29\u653e:"+e.editScale)}else i&&(glGame.editor.node.getChildByName("tips").getChildByName("layout2").getChildByName("lab_d").getComponent(cc.Label).string=i.FishName);a.active=void 0!=e.showTime&&0!=e.showTime,void 0!=e.showTime&&0!=e.showTime&&(a.getComponent(cc.Label).string="t:"+e.showTime.toFixed(2)),glGame.editor.node.getChildByName("tips").getChildByName("bg").height=80},this.node),this.node.on(cc.Node.EventType.MOUSE_MOVE,function(e){var t=glGame.editor.node.convertToNodeSpaceAR(e.getLocation());t.x=t.x+glGame.editor.node.getChildByName("tips").width+59,glGame.editor.node.getChildByName("tips").setPosition(t)},this.node),this.node.on(cc.Node.EventType.MOUSE_LEAVE,function(e){glGame.editor.node.getChildByName("tips").active=!1},this.node)},convertToNodeSpace:function(e){return cc.find("Canvas").convertToNodeSpaceAR(e.getLocation())},death:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(glGame.editor.node.getChildByName("fishGroupProgress").getChildByName("slider").lineID=null,this._bUpdate=!1,glGame.pearssPush=null,glGame.editor.node.getChildByName("editBar").getChildByName("btn_pay").active=!0,glGame.editor.node.getChildByName("editBar").getChildByName("btn_push").active=!1,!i)if(e==n.dieType1){var a=this.node.angle+"",o=this.node.angle>0?this.node.angle-20:this.node.angle+20,r=cc.sequence(cc.rotateTo(.1,o),cc.rotateTo(.1,Number(a)));this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.repeat(r,2),cc.callFunc(function(){t.dispose()})))}else if(e==n.dieType4){this.node.stopAllActions();var s=cc.spawn(cc.scaleTo(2,.01,.01),cc.repeat(cc.rotateBy(.5,360),5),cc.sequence(cc.moveTo(.6,this.node.x+9,this.node.y-9),cc.moveTo(.6,this.node.x-9,this.node.y+9)));this.node.runAction(cc.sequence(s,cc.callFunc(function(){t.dispose()})))}else this.dispose()},dispose:function(){this._bUpdate=!1,glGame.pearssPush=null,this.node.off(cc.Node.EventType.TOUCH_START),this.fishData=null,this.fishLine=null,this.fishPath=null,this.timeIndex=0,this.moveList=null,this.posArray=null,this.whirlpool&&this.whirlpool.destroy(),this.node.destroy()},settingIcing:function(e){e&&(this._time=Date.now()),this._bUpdate=e},getPostFormPath:function(e){return{startPos:cc.v2(this.path[e].start.x,this.path[e].start.y),controlPos:cc.v2(this.path[e].control.x,this.path[e].control.y),endPos:cc.v2(this.path[e].end.x,this.path[e].end.y)}},initEditorFish:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:glGame.runSpeed;this.editScale=i,this.filename="fish"+e,this.resType=t,this.fishPath={type:2,liveTime:2e4*Math.random()+1e3},this.fishLine=this.fishPath,this.fishData={filename:this.filename},this.setFIsh(this.fishData),this.runSpeed=n,this.isPlayStartMc=!0,this.showTime=0},initResEditorFish:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:glGame.runSpeed;this.editScale=i,this.maxW=t,this.setResFIsh(e),this.runSpeed=n,this.isPlayStartMc=!0,this.showTime=0,this.fishData={fileName:e}},updateData:function(){var e=glGame.FList[glGame.currGIndex].fishLine[this.node.lineID];this.moveList=e.moveList,this.posArray=e.posArray;var t=Number(glGame.editor.getFishResConfig(Number(e.fishTypeId)).frameRate);this.updateFrequency(t*e.frequency*10)},setMoveData:function(e){this.posArray=e.posArray,this.moveList=e.moveList,this.showTime=e.showTime},editMove:function(){var e=glGame.FList[glGame.currGIndex].fishLine[this.node.lineID];this.moveList=e.moveList,this.posArray=e.posArray,this.showTime=e.showTime,this.startMove()},getRunTime:function(){var e=glGame.FList[glGame.currGIndex].fishLine[this.node.lineID];return this.moveList=e.moveList,this.posArray=e.posArray,this.showTime=e.showTime,this.getMaxIndexByTime()},startMove:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._runTimeALl=0,this._startTime=0,this._time=Date.now(),this.node.x=this.posArray[0].x,this.node.y=this.posArray[0].y,this._bUpdate=!0,this.allTime=this.getMaxIndexByTime(),this.at=0,e&&(glGame.editor.node.getChildByName("fishGroupProgress").getChildByName("slider").lineID=this.node.lineID);var t=glGame.FList[glGame.currGIndex].fishLine[this.node.lineID],i=Number(glGame.editor.getFishResConfig(Number(t.fishTypeId)).frameRate);this.updateFrequency(i*t.frequency*10)},setProgress:function(e){this._startTime=e*this.allTime,this._time=Date.now(),this.delayedPause=1,this._bUpdate=!0},getMaxIndexByTime:function(){for(var e=0,t=0,i=0;-1!=(e=this.getIndexByTime(t));){var n=e>0?3*e:2*e;if(!this.posArray[n])break;t+=.017,i+=.017}return i},move:function(e){if(this._bUpdate&&this.moveList&&this.showTime>-1&&(this.showTime-=e,this.showTime<=0&&(this._startTime=0,this._time=Date.now(),this.showTime=-1)),this._bUpdate&&this.moveList&&this.showTime<=0){var t=Date.now();if(this._startTime=this._startTime+(t-this._time)/1e3,this._time=t,2==this.fishPath.type){this.timeIndex=this.getIndexByTime(this._startTime);var i,a,o,r=!1;if(glGame.editor.node.getChildByName("fishGroupProgress").isGroupPlay?glGame.editor.node.getChildByName("fishGroupProgress").getChildByName("slider").lineID==this.node.lineID&&(r=!0):r=!0,r){var s=this._startTime/this.allTime;glGame.editor.node.getChildByName("fishGroupProgress").getChildByName("slider").getComponent(cc.Slider).progress=s,glGame.editor.node.getChildByName("fishGroupProgress").getChildByName("progressBar").getComponent(cc.ProgressBar).progress=s;var l;void 0==this.allTime&&(this.allTime=0),l=this._startTime.toFixed(2)+"/"+this.allTime.toFixed(2)+"s",glGame.editor.node.getChildByName("fishGroupProgress").getChildByName("progressBar").getChildByName("bar").getChildByName("lab_time").getComponent(cc.Label).string=l}if(this.timeIndex>0&&(this.at=this.timeIndex),this._runTimeALl+=e,-1==this.timeIndex)return glGame.editor.status("\u8fd0\u884c\u65f6\u95f4\uff1a"+this._runTimeALl.toFixed(2)+"  1 timeEndIndex "+this.at),void this.death(n.dieType0);null==this.lastIndex||this.timeIndex!=this.lastIndex?(a=this.getTimeByIndex(this.timeIndex),o=this.getTimeByIndex(this.timeIndex+1),this.currTime=a,this.nextTime=o):(a=this.currTime,o=this.nextTime),i=(this._startTime-a)/(o-a);var h=this.timeIndex>0?3*this.timeIndex:2*this.timeIndex,d=this.posArray[h],g=this.posArray[h+1],m=this.posArray[h+2];if(!d)return glGame.editor.status("\u8fd0\u884c\u65f6\u95f4\uff1a"+this._runTimeALl.toFixed(2)+" 2 timeEndIndex "+this.at),void this.death(n.dieType0);var c=Math.pow(1-i,2)*d.x+2*i*(1-i)*g.x+Math.pow(i,2)*m.x,u=Math.pow(1-i,2)*d.y+2*i*(1-i)*g.y+Math.pow(i,2)*m.y;this.node.angle=this.setAngle(c,u,this.node.position),this.node.x=c,this.node.y=u,this.lastIndex=this.timeIndex}else if(1==this.fishPath.type){var p=this._startTime/this.fishLine.liveTime*1e3;if(p>=1)return void this.death(n.dieType0);var y=this.getPos(p),f=y.x,G=y.y;this.node.angle=this.setAngle(f,G,this.node.position),this.node.x=y.x,this.node.y=y.y}this.delayedPause>0&&(this.delayedPause=0,this._bUpdate=!1)}},update:function(e){this.isPlayStartMc&&this.playFishMovieClip(e),this.move(e),this.isHit&&(this.hitTime-=e,this.hitTime<0&&(this.isHit=!1,this.node.color=cc.color(255,255,255,255)))},getIndexByTime:function(e){for(var t=0,i=0;i<this.moveList.length/2;i++){var n=2*i,a=2*i+1;if((t=t+this.moveList[n]+this.moveList[a])>=e)return i}return-1},getTimeByIndex:function(e){for(var t=0,i=0;i<this.moveList.length/2&&i!=e;i++){var n=2*i,a=2*i+1;t=t+this.moveList[n]+this.moveList[a]}return t},setAngle:function(e,t,i){var n=i.x,a=i.y;return this.setscale(),180*Math.atan2(t-a,e-n)/Math.PI},setscale:function(){var e=this.posArray[0].x;this.node.scaleY=e>0?-this.editScale:this.editScale},getPos:function(e){var t=this.multilevelBezier(1,e,this.posArray.length-1,0),i=this.multilevelBezier(2,e,this.posArray.length-1,0);return cc.v2(t,i)},multilevelBezier:function(e,t,i,n){return 0==i?1==e?this.posArray[n].x:this.posArray[n].y:(1-t)*this.multilevelBezier(e,t,i-1,n)+t*this.multilevelBezier(e,t,i-1,n+1)},getFishData:function(){return this.fishData},OnDestroy:function(){this.moveList=[],this.fishData=null,this.fishLine=null,this.fishPath=null,this.index=0,this.posArray=null,this.isHit=!1,this.hitTime=0}}),cc._RF.pop()},{fishConst:"fishConst"}],glob:[function(e,t,i){"use strict";cc._RF.push(t,"dd93dfJINRP0q1VjYEp8plc","glob");var n={};window.glGame=n,n.filePreFix="fish",n.drawStart=!1,n.isImport=!1,n.scale=1,n.runSpeed=1,n.speed=5,n.maxSpeed=30,n.lineID=1e3,n.level=10,n.showTime=0,n.startPoint=cc.v2(-1122,300),n.controlPoint=cc.v2(57,290),n.endPoint=cc.v2(1207,300),n.FishRunGap=2,n.P13=[[cc.v2(-1122,303),cc.v2(-57,290),cc.v2(1207,283)],[cc.v2(-1122,159),cc.v2(50,161),cc.v2(1207,169)],[cc.v2(-1122,-212),cc.v2(61,-247),cc.v2(1207,-261)],[cc.v2(-1122,-251),cc.v2(-133,-121),cc.v2(1207,-123)],[cc.v2(1207,523),cc.v2(388,-208),cc.v2(-1150,-206)],[cc.v2(1207,-474),cc.v2(-398,-348),cc.v2(20,696)],[cc.v2(-1122,-529),cc.v2(155,-194),cc.v2(20,696)],[cc.v2(-1122,681),cc.v2(38,-457),cc.v2(1207,684)],[cc.v2(-1122,681),cc.v2(-11,-684),cc.v2(1207,-649)],[cc.v2(-1122,544),cc.v2(897,-2),cc.v2(-1161,-556)],[cc.v2(1207,552),cc.v2(-1076,33),cc.v2(1272,-560)],[cc.v2(28,1207),cc.v2(-7,-2),cc.v2(15,-626)],[cc.v2(-1122,-640),cc.v2(18,12),cc.v2(1224,634)]],n.FList={},n.startGroupIndex=1e5,n.currGIndex=1e5,n.width=3600,n.height=2200,n.Color={},n.Color.RED=cc.color(246,92,92),n.Color.HAFEBCAK=cc.Color(156,156,156),n.erxiangshi=function(e,t){for(var i=1,n=1;t>0;)i*=e,n*=t,e--,t--;return i/n},n.MultiPointBezier=function(e,t){for(var i=e.length,a=0,o=0,r=0;r<i;r++){var s=e[r];a+=s.x*Math.pow(1-t,i-1-r)*Math.pow(t,r)*n.erxiangshi(i-1,r),o+=s.y*Math.pow(1-t,i-1-r)*Math.pow(t,r)*n.erxiangshi(i-1,r)}return{x:a,y:o}},n.CreateBezierPoints=function(e,t,i){for(var a=0;a<t;a++){var o=n.MultiPointBezier(e,a/t);i.push(o)}return i},n.getPOst=function(e){return{x:Number(e.x.toFixed(1)),y:Number(e.y.toFixed(1))}},n.getPosArrayAndmoveList=function(e,t,i){for(var a=[],o=[],r=0;r<e.length;r++){var s=n.getPostFormPath(e,r);a.push(n.getPOst(s.startPos)),a.push(n.getPOst(s.controlPos)),a.push(n.getPOst(s.endPos));var l=void 0==e[r].start.speed?i:Number(e[r].start.speed),h=void 0==e[r].end.speed?i:Number(e[r].end.speed);0==r?(o.push(l),o.push(0),o.push(0)):(o.push(l),o.push(0),o.push(h))}return{posArray:a,moveList:o}},n.getPostFormPath=function(e,t){var i,n,a;return e[t].start?(i=cc.v2(e[t].start.x,e[t].start.y),n=cc.v2(e[t].control.x,e[t].control.y),a=cc.v2(e[t].end.x,e[t].end.y)):(i=cc.v2(Number(e[0].x.toFixed(1)),Number(e[0].y.toFixed(1))),n=cc.v2(Number(e[1].x.toFixed(1)),Number(e[1].y.toFixed(1))),a=cc.v2(Number(e[2].x.toFixed(1)),Number(e[2].y.toFixed(1)))),{startPos:i,controlPos:n,endPos:a}},n.calcBezierLength=function(e,t){var i=e[0],n=e[1],a=e[2],o=i.x-2*n.x+a.x,r=i.y-2*n.y+a.y,s=2*n.x-2*i.x,l=2*n.y-2*i.y,h=4*(o*o+r*r),d=4*(o*s+r*l),g=s*s+l*l,m=Math.sqrt(g+t*(d+h*t)),c=2*h*t*m+d*(m-Math.sqrt(g)),u=Math.log(d+2*Math.sqrt(h)*Math.sqrt(g)),p=Math.log(d+2*h*t+2*Math.sqrt(h)*m);return(2*Math.sqrt(h)*c+(d*d-4*h*g)*(u-p))/(8*Math.pow(h,1.5))},n.getMaxIndexByTime=function(e,t){for(var i=0,a=0,o=0;-1!=(i=n.runTime(a,t));){if(!e[i>0?3*i:2*i])break;a+=.017,o+=.017}return Number(o.toFixed(2))},n.runTime=function(e,t){for(var i=0,n=0;n<t.length/2;n++){var a=2*n+1;if((i=i+t[2*n]+t[a])>=e)return n}return-1},n.range=function(e,t){if(0==e.length)return!0;if(-1!=e.indexOf(t))return!1;for(var i=0;i<e.length;i++)if(Math.abs(Math.abs(e[i])-Math.abs(t))<n.FishRunGap)return!1;return!0},n.edgeComputingToTime=function(e,t,i,a){for(var o=0,r=[],s=[],l=[],h=[],d=Number(i);o<d;){var g=n.getPosFormTime(o,e,t);if(void 0==g)break;if(960==Math.floor(Math.abs(g.x))||540==Math.floor(Math.abs(g.y))){var m=Number(o.toFixed(0)),c=Number(o.toFixed(2));if(n.range(l,m)){if(0==h.length){var u=n.getArea(n.getPosFormTime(0,e,t));h.push(u);var p=Number((a+c).toFixed(2));s.push([1==u?0:1,p]),r.push([p])}else{var y=1==h[h.length-1]?0:1,f=Number((a+c).toFixed(2));s.push([1==y?0:1,f]),1==r[r.length-1].length?r[r.length-1].push(f):r.push([f]),h.push(y)}l.push(m)}}o+=.001}if(n.getPosFormTime_lastIndex=null,n.getPosFormTime_currTime=null,n.getPosFormTime_nextTime=null,0==s.length)return[[0,d+a]];if(1==s.length)return 1==s[0].length?[l[0],d+a]:[[0,l[0]]];var G=r[r.length-1];return 1==G.length&&G.push(d+a),r},n.getArea=function(e){return Math.abs(e.x)<960&&Math.abs(e.y)<540?1:0},n.getPosFormTime_lastIndex=null,n.getPosFormTime_currTime=null,n.getPosFormTime_nextTime=null,n.getPosFormTime=function(e,t,i){var a,o,r,s=n.getIndexByTime(e,i);if(-1==s)return null;null==n.getPosFormTime_lastIndex||s!=n.getPosFormTime_lastIndex?(o=n.getTimeByIndex(s,i),r=n.getTimeByIndex(s+1,i),n.getPosFormTime_currTime=o,n.getPosFormTime_nextTime=r):(o=n.getPosFormTime_currTime,r=n.getPosFormTime_nextTime),a=(e-o)/(r-o);var l=s>0?3*s:2*s,h=t[l],d=t[l+1],g=t[l+2];return h?{x:Math.pow(1-a,2)*h.x+2*a*(1-a)*d.x+Math.pow(a,2)*g.x,y:Math.pow(1-a,2)*h.y+2*a*(1-a)*d.y+Math.pow(a,2)*g.y,timeIndex:s}:null},n.getIndexByTime=function(e,t){for(var i=0,n=0;n<t.length/2;n++){var a=2*n+1;if((i=i+t[2*n]+t[a])>=e)return n}return-1},n.getTimeByIndex=function(e,t){for(var i=0,n=0;n<t.length/2&&n!=e;n++){var a=2*n+1;i=i+t[2*n]+t[a]}return i},n.getAtlasForTexture=function(e,t){if(null!=n.atlasList&&n.atlasList[e]){var i=n.atlasList[e].plist,a=n.atlasList[e].frame;if(null==i||null==i.frames)return console.error("\u65e0\u6cd5\u83b7\u53d6\u56fe\u96c6"+e+",\u8bf7\u68c0\u67e5\uff01"),n.editor.status("\u65e0\u6cd5\u83b7\u53d6\u56fe\u96c6"+e+",\u8bf7\u68c0\u67e5\uff01"),null;var o=i.frames[t+".png"];if(!o)return null;var r=n.GetFrameData(o.frame),s=n.GetSizeData(o.sourceSize),l=n.GetOffsetData(o.offset),h=new cc.SpriteFrame;return h.setTexture(a,r,o.rotated,l,s),h}},n.atlasList=null,n.loadingAtlas=function(e,t,i){n.atlasList||(n.atlasList={}),cc.loader.load(t+"/"+e+".png",function(a,o){null==a&&null!=o||(console.log("\u52a0\u8f7d.png\u6587\u4ef6\u5931\u8d25"),a&&console.log(a),console.log(o)),n.atlasList[e]||(n.atlasList[e]={}),n.atlasList[e].frame=o,cc.loader.load(t+"/"+e+".plist",function(t,a){null==t&&null!=a||console.log("\u52a0\u8f7d.plist\u6587\u4ef6\u5931\u8d25"),t&&console.log(t),n.atlasList[e].plist=a,i&&i()})})},n.GetFrameData=function(e){var t=e;if(t.length<13)return console.log("---\u89e3\u6790plist\u7684frame rect\uff0c\u6570\u636e\u9519\u8bef-----"),null;var i=t,n=(i=(i=i.slice(2)).slice(0,i.length-2)).split("},{"),a=n[0].split(","),o=n[1].split(",");return a.length<2||o.length<2?(Tools.log("---\u89e3\u6790plist\u7684frame rect\uff0c\u5b57\u7b26\u4e32\u6570\u636e\u9519\u8bef-----"),null):cc.rect(parseInt(a[0]),parseInt(a[1]),parseInt(o[0]),parseInt(o[1]))},n.GetSizeData=function(e){if(e.length<5)return console.log("---\u89e3\u6790plist\u7684size\uff0c\u6570\u636e\u9519\u8bef-----"),null;var t=e,i=(t=(t=t.slice(1)).slice(0,t.length-1)).split(",");return i.length<2?(console.log("---\u89e3\u6790plist\u7684size\uff0c\u5b57\u7b26\u4e32\u6570\u636e\u9519\u8bef-----"),null):cc.size(parseInt(i[0]),parseInt(i[1]))},n.GetOffsetData=function(e){if(e.length<5)return console.log("---\u89e3\u6790plist\u7684offset\uff0c\u6570\u636e\u9519\u8bef-----"),null;var t=e,i=(t=(t=t.slice(1)).slice(0,t.length-1)).split(",");return i.length<2?(console.log("---\u89e3\u6790plist\u7684offset\uff0c\u5b57\u7b26\u4e32\u6570\u636e\u9519\u8bef-----"),null):cc.v2(parseInt(i[0]),parseInt(i[1]))},n.EditOutConfig={line:{groupID:"groupID",fishTypeId:"fishTypeId",lineID:"lineID",resGroupId:"resGroupId",showTime:"showTime",frequency:"frequency",rate:"rate",scale:"scale",desc:"desc",runTime:"runTime",posArray:"posArray",moveList:"moveList",edgeList:"edgeList"},line_isOut:{groupID:!0,fishTypeId:!0,lineID:!0,resGroupId:!0,showTime:!0,frequency:!0,rate:!0,scale:!0,desc:!0,runTime:!0,posArray:!0,moveList:!0,edgeList:!0},group:{id:"id",fishLine:"fishLine",type:"type",range:"range",desc:"desc"},group_isOut:{id:!0,fishLine:!0,type:!0,range:!0,desc:!0}},n.ServerOutConfig={line:{groupID:"groupID",fishTypeId:"fishTypeId",lineID:"lineID",resGroupId:"resGroupId",showTime:"showTime",frequency:"frequency",rate:"rate",scale:"scale",desc:"desc",runTime:"runTime",posArray:"posArray",moveList:"moveList",edgeList:"edgeList"},line_isOut:{groupID:!1,fishTypeId:!0,lineID:!1,resGroupId:!1,showTime:!0,frequency:!1,rate:!1,scale:!1,desc:!1,runTime:!0,posArray:!1,moveList:!1,edgeList:!0},group:{id:"id",fishLine:"fishLine",type:"type",range:"range",desc:"desc"},group_isOut:{id:!1,fishLine:!0,type:!0,range:!1,desc:!1}},n.ClientOutConfig={line:{groupID:"groupID",fishTypeId:"fishTypeId",lineID:"lineID",resGroupId:"resGroupId",showTime:"showTime",frequency:"frequency",rate:"rate",scale:"scale",desc:"desc",runTime:"runTime",posArray:"posArray",moveList:"moveList",edgeList:"edgeList"},line_isOut:{groupID:!1,fishTypeId:!0,lineID:!1,resGroupId:!1,showTime:!0,frequency:!0,rate:!0,scale:!1,desc:!1,runTime:!0,posArray:!0,moveList:!0,edgeList:!1},group:{id:"id",fishLine:"fishLine",type:"type",range:"range",desc:"desc"},group_isOut:{id:!1,fishLine:!0,type:!1,range:!1,desc:!1}},n.fishTableTest={101:{fishTypeId:"101",fishName:"\u5b54\u96c0\u9c7c",fishDesc:"\u5b54\u96c0\u9c7c\uff0c\u4e5f\u79f0\u4e3a\u51e4\u5c3e\u9c7c\u662f\u4e00\u79cd\u70ed\u5e26\u9c7c\uff0c\u96cc\u96c4\u9c7c\u7684\u4f53\u578b\u548c\u8272\u5f69\u5dee\u522b\u8f83\u5927\uff0c\u4f53\u8272\u7eda\u70c2\u591a\u5f69\u3001\u4f53\u578b\u4f18\u7f8e\u3002\u5b54\u96c0\u9c7c\u6027\u60c5\u6e29\u548c\uff0c\u80fd\u4e0e\u6e29\u548c\u7684\u4e2d\u5c0f\u6027\u578b\u70ed\u5e26\u9c7c\u6df7\u517b\uff0c\u5e73\u65f6\u6d3b\u6cfc\u597d\u52a8\uff0c\u5bff\u547d\u8f83\u77ed\u3002",level:1,deadEvent:0,resGroupId:1,shock:0,effectRotate:1,priority:1,chatVoiceType:0,chatBubble:-1,voiceFile:-1,fixedResource:0,frameRate:.013},102:{fishTypeId:"102",fishName:"\u51e4\u51f0\u9c7c",fishDesc:"\u51e4\u51f0\u9c7c\uff0c\u662f\u4e00\u79cd\u6e29\u548c\u800c\u80c6\u5c0f\u7684\u70ed\u5e26\u9c7c\uff0c\u9002\u5b9c\u653e\u7f6e\u4e8e\u6bd4\u8f83\u5b89\u9759\u53c8\u6ca1\u6709\u76f4\u5c04\u5149\u7167\u5c04\u7684\u73af\u5883\u4e2d\u3002\u6c34\u7bb1\u4e2d\u5e94\u591a\u690d\u6c34\u8349\u4f9b\u5176\u8eb2\u85cf\u6816\u8eab\u3002\u5b83\u7231\u5403\u52a8\u7269\u6027\u98df\u7269\uff0c\u4e0d\u6311\u98df\uff0c\u53ef\u4ee5\u548c\u5176\u4ed6\u5c0f\u578b\u70ed\u5e26\u9c7c\u6df7\u517b\u3002",level:1,deadEvent:0,resGroupId:2,shock:0,effectRotate:1,priority:2,chatVoiceType:0,chatBubble:-1,voiceFile:-1,fixedResource:0,frameRate:.013},103:{fishTypeId:"103",fishName:"\u5929\u4f7f\u9c7c",fishDesc:"\u5929\u4f7f\u9c7c\uff0c\u4e5f\u79f0\u795e\u4ed9\u9c7c\uff0c\u53ef\u8bf4\u662f\u70ed\u5e26\u9c7c\u7684\u4ee3\u8868\u9c7c\u7c7b\u3002\u80cc\u9ccd\u548c\u8179\u9ccd\u5f88\u957f\uff0c\u6781\u50cf\u5929\u4f7f\u5c55\u5f00\u7684\u7fc5\u8180\u3002\u662f\u4e00\u79cd\u6709\u8f83\u9ad8\u89c2\u8d4f\u4ef7\u503c\u7684\u70ed\u5e26\u9c7c\uff0c\u6709\u201c\u89c2\u8d4f\u9c7c\u7687\u540e\u201d\u7684\u7f8e\u79f0\u3002",level:1,deadEvent:0,resGroupId:3,shock:0,effectRotate:1,priority:3,chatVoiceType:0,chatBubble:-1,voiceFile:-1,fixedResource:0,frameRate:.013},104:{fishTypeId:"104",fishName:"\u5c0f\u4e11\u9c7c",fishDesc:"\u5c0f\u4e11\u9c7c\uff0c\u662f\u5bf9\u96c0\u9cb7\u79d1\u6d77\u8475\u9c7c\u4e9a\u79d1\u9c7c\u7c7b\u7684\u4fd7\u79f0\uff0c\u56e0\u4e3a\u8138\u4e0a\u90fd\u6709\u4e00\u6761\u6216\u4e24\u6761\u767d\u8272\u6761\u7eb9\uff0c\u597d\u4f3c\u4eac\u5267\u4e2d\u7684\u4e11\u89d2\u800c\u5f97\u540d\uff0c\u662f\u4e00\u79cd\u70ed\u5e26\u54b8\u6c34\u9c7c\u3002\u5c0f\u4e11\u9c7c\u4e0e\u6d77\u8475\u6709\u7740\u5bc6\u4e0d\u53ef\u5206\u7684\u5171\u751f\u5173\u7cfb\uff0c\u56e0\u6b64\u53c8\u79f0\u6d77\u8475\u9c7c\u3002",level:1,deadEvent:0,resGroupId:4,shock:0,effectRotate:1,priority:4,chatVoiceType:0,chatBubble:-1,voiceFile:-1,fixedResource:0,frameRate:.013},105:{fishTypeId:"105",fishName:"\u9ed1\u9cb7\u9c7c",fishDesc:"\u9ed1\u9cb7\u9c7c\uff0c\u5c5e\u4e8e\u70ed\u5e26\u3001\u6e29\u5e26\u6cbf\u5cb8\u6742\u98df\u6027\u5e95\u6816\u9c7c\u7c7b\uff0c\u559c\u6816\u606f\u5728\u6c99\u6ce5\u5e95\u8d28\u6c34\u57df\uff0c\u6709\u65f6\u4f1a\u8fdb\u5165\u6cb3\u53e3\u5185\u6e7e\u3002\u6027\u683c\u654f\u611f\u591a\u7591\uff0c\u8b66\u6212\u6027\u5f3a\u3002\u53ef\u7528\u70e7\u70e4\u6216\u716e\u6c64\u6216\u7ea2\u70e7\u98df\u7528\u3002\u662f\u91cd\u8981\u7684\u517b\u6b96\u9c7c\u7c7b\uff0c\u5177\u9ad8\u7ecf\u6d4e\u4ef7\u503c\u3002",level:1,deadEvent:0,resGroupId:5,shock:0,effectRotate:1,priority:5,chatVoiceType:0,chatBubble:-1,voiceFile:-1,fixedResource:0,frameRate:.013},201:{fishTypeId:"201",fishName:"\u6cb3\u8c5a",fishDesc:"\u6cb3\u8c5a\u9c7c\uff0c\u5176\u8089\u5473\u9c9c\u7f8e\u3001\u8425\u517b\u4e30\u5bcc\uff0c\u662f\u4e00\u79cd\u540d\u8d35\u7684\u9ad8\u6863\u6c34\u4ea7\u54c1\uff0c\u88ab\u8a89\u4e3a\u201c\u83dc\u80b4\u4e4b\u51a0\u201d\uff0c\u4f46\u5176\u5375\u5de2\u3001\u809d\u810f\u3001\u80be\u810f\u3001\u773c\u775b\u3001\u8840\u6db2\u4e2d\u542b\u6709\u5267\u6bd2\uff0c\u5904\u7406\u4e0d\u5f53\u6216\u8bef\u98df\uff0c\u8f7b\u8005\u4e2d\u6bd2\uff0c\u91cd\u8005\u4e27\u547d\u3002",level:2,deadEvent:0,resGroupId:6,shock:0,effectRotate:2,priority:6,chatVoiceType:0,chatBubble:-1,voiceFile:-1,fixedResource:0,frameRate:.013},202:{fishTypeId:"202",fishName:"\u7f57\u6c49\u9c7c",fishDesc:"\u7f57\u6c49\u9c7c\uff0c\u56e0\u5176\u5934\u90e8\u9686\u8d77\u4f3c\u7f57\u6c49\u800c\u5f97\u540d\u3002\u8be5\u9c7c\u4f53\u578b\u9b41\u68a7\uff0c\u5934\u9876\u5927\u9f13\u5305\uff0c\u77ed\u8eab\u9ad8\u80cc\uff0c\u82b1\u7eb9\u79c0\u4e3d\uff0c\u5177\u6709\u9c9c\u8273\u593a\u76ee\u7684\u8272\u5f69\uff0c\u4e14\u8272\u5f69\u53d8\u5316\u4e30\u5bcc\uff0c\u5177\u6709\u5f88\u9ad8\u7684\u89c2\u8d4f\u4ef7\u503c\uff0c\u53d7\u5230\u4eba\u4eec\u7684\u5e7f\u6cdb\u559c\u7231\u3002",level:2,deadEvent:0,resGroupId:7,shock:0,effectRotate:2,priority:7,chatVoiceType:0,chatBubble:-1,voiceFile:-1,fixedResource:0,frameRate:.013},203:{fishTypeId:"203",fishName:"\u4e2d\u534e\u9c8e",fishDesc:"\u4e2d\u534e\u9c8e\uff0c\u9c8e\u7531\u4e09\u90e8\u5206\u7ec4\u6210\uff1a\u5934\u80f8\u7532\u7565\u5448\u9a6c\u8e44\u5f62\uff0c\u8179\u90e8\u5448\u516d\u89d2\u5f62\u4e24\u4fa7\u5177\u68d8\u523a\uff0c\u5c3e\u90e8\u662f\u4e00\u6839\u957f\u7684\u5c3e\u5251\u3002\u9c8e\u7684\u9644\u80a2\u57fa\u90e8\u6709\u8bb8\u591a\u523a\u72b6\u7a81\u8d77\u5e76\u56f4\u5728\u53e3\u7684\u5468\u56f4\u4ee5\u5480\u56bc\u98df\u7269\uff0c\u6545\u53c8\u79f0\u80a2\u53e3\u52a8\u7269\u3002\u751f\u6d3b\u5728\u6d45\u6d77\u6c99\u8d28\u6d77\u5e95\u3002\u4e3b\u8981\u662f\u8089\u98df\u6027\u52a8\u7269\uff0c\u53d6\u98df\u73af\u8282\u52a8\u7269\u548c\u8f6f\u4f53\u52a8\u7269\u7b49\uff0c\u6709\u65f6\u4e5f\u53d6\u98df\u6d77\u5e95\u85fb\u7c7b\u3002\u9c8e\u7684\u8840\u6db2\u56e0\u542b\u6709\u94dc\u79bb\u5b50\u663e\u793a\u84dd\u8272\u3002\u4e2d\u534e\u9c8e\u8840\u6db2\u4e3a\u84dd\u8272\u3002",level:2,deadEvent:0,resGroupId:8,shock:0,effectRotate:2,priority:8,chatVoiceType:0,chatBubble:-1,voiceFile:-1,fixedResource:0,frameRate:.013},204:{fishTypeId:"204",fishName:"\u706f\u7b3c\u9c7c",fishDesc:"\u706f\u7b3c\u9c7c\uff0c\u4e3a\u4e2d\u578b\u5e95\u6816\u9c7c\u7c7b\uff0c\u591a\u6f5c\u4f0f\u6d77\u5e95\uff0c\u773c\u775b\u51e0\u4e4e\u65e0\u7528\u6b66\u4e4b\u5730\uff0c\u4e0d\u5584\u6e38\u6cf3\uff0c\u591a\u9760\u8179\u9ccd\u722c\u884c\u3002\u53e3\u5185\u6709\u9510\u5229\u800c\u4e14\u671d\u5185\u503e\u659c\u7684\u957f\u7259\uff0c\u57fa\u672c\u4e0a\uff0c\u88ab\u54ac\u4e2d\u7684\u730e\u7269\u7edd\u4e0d\u53ef\u80fd\u9003\u8d70\u3002\u8eab\u4f53\u88f8\u9732\u65e0\u9cde\u3002\u7279\u522b\u4e4b\u5904\u662f\u6709\u4e00\u652f\u7531\u524d\u80cc\u9ccd\u6f14\u5316\u800c\u6210\u7684\u53d1\u5149\u9493\u7aff\uff0c\u9493\u7aff\u9876\u7aef\u5185\u4e0a\u767e\u4e07\u53ea\u7684\u53d1\u5149\u83cc\uff0c\u72b6\u4f3c\u5c0f\u9c7c\uff0c\u4f1a\u53d1\u51fa\u4eae\u5149\uff0c\u5438\u5f15\u5c0f\u751f\u7269\u6210\u4e3a\u5b83\u4eec\u7684\u98df\u7269\u3002",level:2,deadEvent:0,resGroupId:9,shock:0,effectRotate:2,priority:9,chatVoiceType:0,chatBubble:-1,voiceFile:-1,fixedResource:0,frameRate:.013},205:{fishTypeId:"205",fishName:"\u9f99\u867e",fishDesc:"\u9f99\u867e\uff0c\u662f\u8282\u80a2\u52a8\u7269\u95e8\u8f6f\u7532\u7eb2\u5341\u8db3\u76ee\u9f99\u867e\u79d1\u4e0b\u7269\u79cd\u7684\u901a\u79f0\u3002\u5b83\u5934\u80f8\u90e8\u8f83\u7c97\u5927\uff0c\u5916\u58f3\u575a\u786c\uff0c\u8272\u5f69\u6591\u6593\uff0c\u8179\u90e8\u77ed\u5c0f\uff0c\u4f53\u957f\u4e00\u822c\u572820\uff5e40\u5398\u7c73\u4e4b\u95f4\uff0c\u91cd0.5\u516c\u65a4\u4e0a\u4e0b\uff0c\u90e8\u5206\u65e0\u87af\uff0c\u8179\u80a2\u53ef\u540e\u5929\u6f14\u53d8\u6210\u87af\u3002\u6700\u91cd\u7684\u80fd\u8fbe\u52305\u516c\u65a4\u4ee5\u4e0a\uff0c\u4eba\u79f0\u9f99\u867e\u864e\u3002\u4f53\u5448\u7c97\u5706\u7b52\u72b6\uff0c\u80cc\u8179\u7a0d\u5e73\u6241\uff0c\u5934\u80f8\u7532\u53d1\u8fbe\uff0c\u575a\u539a\u591a\u68d8\uff0c\u524d\u7f18\u4e2d\u592e\u6709\u4e00\u5bf9\u5f3a\u5927\u7684\u773c\u4e0a\u68d8\uff0c\u5177\u5c01\u95ed\u7684\u9cc3\u5ba4\u3002\u4e3b\u8981\u5206\u5e03\u4e8e\u70ed\u5e26\u6d77\u57df\uff0c\u662f\u540d\u8d35\u6d77\u4ea7\u54c1\u3002",level:2,deadEvent:0,resGroupId:10,shock:0,effectRotate:2,priority:10,chatVoiceType:0,chatBubble:-1,voiceFile:-1,fixedResource:0,frameRate:.013},301:{fishTypeId:"301",fishName:"\u4e2d\u534e\u9c9f",fishDesc:"\u4e2d\u534e\u9c9f\uff0c\u662f\u957f\u6c5f\u4e2d\u6700\u5927\u7684\u9c7c\uff0c\u751f\u6d3b\u4e8e\u5927\u6c5f\u548c\u8fd1\u6d77\u4e2d\uff0c\u6545\u6709\u201c\u957f\u6c5f\u9c7c\u738b\u201d\u4e4b\u79f0\u3002\u4e2d\u534e\u9c9f\u751f\u547d\u5468\u671f\u8f83\u957f\uff0c\u6700\u957f\u5bff\u547d\u53ef\u8fbe40\u9f84\u3002\u662f\u4e2d\u56fd\u4e00\u7ea7\u91cd\u70b9\u4fdd\u62a4\u91ce\u751f\u52a8\u7269\uff0c\u4e5f\u662f\u6d3b\u5316\u77f3\uff0c\u6709\u201c\u6c34\u4e2d\u5927\u718a\u732b\u201d\u4e4b\u79f0\u3002\u590f\u79cb\u4e24\u5b63\uff0c\u751f\u6d3b\u5728\u957f\u6c5f\u53e3\u5916\u6d45\u6d77\u57df\u7684\u4e2d\u534e\u9c9f\u56de\u6e38\u5230\u957f\u6c5f\uff0c\u5386\u7ecf3000\u591a\u516c\u91cc\u7684\u6eaf\u6d41\u535a\u51fb\uff0c\u624d\u56de\u5230\u91d1\u6c99\u6c5f\u4e00\u5e26\u4ea7\u5375\u7e41\u6b96\u3002\u4ea7\u540e\u5f85\u5e7c\u9c7c\u957f\u5927\u523015\u5398\u7c73\u5de6\u53f3\uff0c\u53c8\u643a\u5e26\u5b83\u4eec\u65c5\u5c45\u5916\u6d77\u3002\u5b83\u4eec\u5c31\u8fd9\u6837\u4e16\u4e16\u4ee3\u4ee3\u5728\u6c5f\u6cb3\u4e0a\u6e38\u51fa\u751f\uff0c\u5728\u5927\u6d77\u91cc\u751f\u957f\u3002",level:3,deadEvent:0,resGroupId:11,shock:0,effectRotate:2,priority:11,chatVoiceType:1,chatBubble:-1,voiceFile:-1,fixedResource:0,frameRate:.013},302:{fishTypeId:"302",fishName:"\u6d77\u9f9f",fishDesc:"\u6d77\u9f9f\uff0c\u751f\u6d3b\u4e8e\u4e9a\u70ed\u5e26\u8fd1\u6d77\u4e0a\u5c42\uff0c\u7ec8\u8eab\u751f\u6d3b\u4e8e\u6d77\u6d0b\u4e2d\u3002\u5927\u591a\u6570\u6d77\u9f9f\u5c45\u4f4f\u5728\u6cbf\u5cb8\u7684\u6d45\u6ee9\u6c34\u57df\uff0c\u6709\u4e9b\u79cd\u7c7b\u7684\u6d77\u9f9f\u51ac\u5b63\u5c45\u4f4f\u5728\u98df\u7269\u4e30\u5bcc\u7684\u6c34\u57df\uff0c\u5230\u4e86\u5b63\u4ea7\u5375\u5b63\u8282\u4f1a\u4f5c\u4e00\u6b21\u957f\u9014\u8fc1\u5f99\u3002\u98df\u6027\u5f88\u6742\uff0c\u4e3b\u8981\u5206\u5e03\u4e8e\u592a\u5e73\u6d0b\u3001\u5927\u897f\u6d0b\u53ca\u5370\u5ea6\u6d0b\u4e2d\u7684\u6e29\u6696\u6d77\u57df\u3002",level:3,deadEvent:0,resGroupId:12,shock:0,effectRotate:3,priority:12,chatVoiceType:1,chatBubble:"\u5e72\u5f97\u597d\uff0c\u7231\u4f60",voiceFile:1,fixedResource:0,frameRate:.013},303:{fishTypeId:"303",fishName:"\u5251\u9c7c",fishDesc:"\u5251\u9c7c\uff0c\u4ea6\u79f0\u201c\u7bad\u9c7c\u201d\u3002\u662f\u70ed\u5e26\u3001\u4e9a\u70ed\u5e26\u6d77\u6d0b\u4e2d\u4e00\u79cd\u5e38\u89c1\u9c7c\u7c7b\uff0c\u56e0\u5176\u4e0a\u988c\u5411\u524d\u5ef6\u4f38\u5448\u5251\u72b6\u800c\u5f97\u540d\u3002\u5251\u9c7c\u5206\u5e03\u4e8e\u9664\u5317\u51b0\u6d0b\u4e4b\u5916\u5404\u5927\u6d0b\uff0c\u5176\u672c\u8eab\u4e5f\u662f\u4e00\u79cd\u4e3b\u8981\u7684\u98df\u7528\u9c7c\uff0c\u5177\u6709\u91cd\u8981\u6e14\u4e1a\u4ef7\u503c\u3002\u5f53\u5251\u9c7c\u5411\u524d\u6e38\u6cf3\u65f6\uff0c\u5f3a\u58ee\u6709\u529b\u7684\u5c3e\u67c4\u80fd\u4ea7\u751f\u5de8\u5927\u63a8\u52a8\u529b\uff0c\u957f\u77db\u822c\u7684\u957f\u988c\u8d77\u7740\u5288\u6c34\u7684\u4f5c\u7528\u3002\u4ee5\u6bcf\u5c0f\u65f6130\u516c\u91cc\u9ad8\u901f\u524d\u8fdb\u7684\u5251\u9c7c\uff0c\u575a\u786c\u7684\u4e0a\u988c\u80fd\u5c06\u5f88\u539a\u7684\u8239\u5e95\u523a\u7a7f\u3002",level:3,deadEvent:0,resGroupId:13,shock:0,effectRotate:3,priority:13,chatVoiceType:1,chatBubble:"\u55ef\uff1f&&\u6765\u70b9\u5bb5\u591c\u5982\u4f55",voiceFile:2,fixedResource:0,frameRate:.013},304:{fishTypeId:"304",fishName:"\u6c34\u6bcd",fishDesc:"\u6c34\u6bcd\uff0c\u662f\u6c34\u751f\u73af\u5883\u4e2d\u91cd\u8981\u7684\u6d6e\u6e38\u751f\u7269\uff0c\u6c34\u6bcd\u662f\u4e00\u79cd\u975e\u5e38\u6f02\u4eae\u7684\u6c34\u751f\u52a8\u7269\u3002\u5b83\u7684\u8eab\u4f53\u5916\u5f62\u5c31\u50cf\u4e00\u628a\u900f\u660e\u4f1e\uff0c\u6c34\u6bcd\u8eab\u4f53\u7684\u4e3b\u8981\u6210\u5206\u662f\u6c34\uff0c\u4e0d\u4f46\u900f\u660e\uff0c\u800c\u4e14\u6709\u6f02\u6d6e\u4f5c\u7528\u3002\u6709\u4e9b\u6c34\u6bcd\u7684\u4f1e\u72b6\u4f53\u8fd8\u5e26\u6709\u5404\u8272\u82b1\u7eb9\uff0c\u5728\u84dd\u8272\u7684\u6d77\u6d0b\u91cc\uff0c\u8fd9\u4e9b\u6e38\u52a8\u7740\u7684\u8272\u5f69\u5404\u5f02\u7684\u6c34\u6bcd\u663e\u5f97\u5341\u5206\u7f8e\u4e3d\u3002",level:3,deadEvent:0,resGroupId:14,shock:0,effectRotate:3,priority:14,chatVoiceType:1,chatBubble:"\u773c\u775b\u8fdb\u4e86\u6c99\u5b50&&\u6709\u6ca1\u6709\u4eba\u5fc3\u75bc",voiceFile:3,fixedResource:0,frameRate:.013},305:{fishTypeId:"305",fishName:"\u9b54\u9b3c\u9c7c",fishDesc:"\u9b54\u9b3c\u9c7c\uff0c\u662f\u4e00\u79cd\u5e9e\u5927\u7684\u70ed\u5e26\u9c7c\u7c7b\u3002\u9b54\u9b3c\u9c7c\u770b\u4e0a\u53bb\u4ee4\u4eba\u751f\u754f\uff0c\u5176\u5b9e\u5b83\u662f\u5f88\u6e29\u548c\u7684\u3002\u5b83\u7684\u4e2a\u5934\u548c\u529b\u6c14\u5e38\u4f7f\u6f5c\u6c34\u5458\u5bb3\u6015\uff0c\u56e0\u4e3a\u53ea\u8981\u5b83\u53d1\u8d77\u6012\u6765\uff0c\u53ea\u9700\u7528\u5b83\u90a3\u5f3a\u6709\u529b\u7684\u201c\u53cc\u7fc5\u201d\u4e00\u62cd\uff0c\u5c31\u4f1a\u78b0\u65ad\u4eba\u7684\u9aa8\u5934\uff0c\u81f4\u4eba\u4e8e\u6b7b\u5730\u3002\u6240\u4ee5\u4eba\u4eec\u53eb\u5b83\u201c\u9b54\u9b3c\u9c7c\u201d\u3002",level:3,deadEvent:0,resGroupId:15,shock:0,effectRotate:3,priority:15,chatVoiceType:1,chatBubble:"\u6700\u6050\u6016\u7684\u751f\u7269&&\u660e\u660e\u662f\u4eba\u7c7b",voiceFile:4,fixedResource:0,frameRate:.013},306:{fishTypeId:"306",fishName:"\u9ca8\u9c7c",fishDesc:"\u9ca8\u9c7c\uff0c\u6d77\u751f\uff0c\u5c11\u6570\u79cd\u7c7b\u8fdb\u5165\u6de1\u6c34\uff0c\u4e3a\u4e00\u7fa4\u6e38\u901f\u5feb\u7684\u4e2d\u5927\u578b\u6d77\u6d0b\u9c7c\u7c7b\uff0c\u9ca8\u9c7c\u7684\u611f\u89c9\u5668\u5b98\u76f8\u5f53\u7075\u654f\uff0c\u751a\u81f3\u80fd\u55c5\u51fa\u51e0\u5343\u7c73\u4e4b\u5916\u7684\u8840\u8165\u5473\u3002\u5b83\u4eec\u5177\u6709\u611f\u5e94\u7535\u7684\u80fd\u529b\uff0c\u5e76\u53ef\u4ee5\u6b64\u53d1\u89c9\u9690\u85cf\u5728\u6c99\u5e95\u4e0b\u7684\u730e\u7269\u3002\u5728\u4e2d\u56fd\u6c11\u95f4\uff0c\u9ca8\u8f6f\u9aa8\u63d0\u53d6\u7269\u3001\u9ca8\u809d\u6cb9\u7b49\u65e9\u5df2\u88ab\u7528\u4e8e\u6cbb\u7597\u764c\u75c7\u7b49\u75be\u75c5\u3002",level:3,deadEvent:0,resGroupId:16,shock:0,effectRotate:3,priority:16,chatVoiceType:1,chatBubble:"\u4f60\u81ea\u5df1\u95ef\u8fdb\u6765\u7684",voiceFile:5,fixedResource:0,frameRate:.013},601:{fishTypeId:"601",fishName:"\u9c7c\u5996",fishDesc:"\u9c7c\u5996\u4f17\u4e4b\u4e00\uff0c\u7531\u5de8\u5927\u7684\u9cb8\u9c7c\u53d8\u5316\u800c\u6210\uff0c\u559c\u6b22\u91d1\u95ea\u95ea\u7684\u4e1c\u897f\u6765\u88c5\u9970\u81ea\u5df1\uff0c\u968f\u7740\u9633\u5149\u7684\u6298\u5c04\uff0c\u6e38\u52a8\u65f6\u6563\u53d1\u51fa\u91d1\u8272\u7684\u5149\u8292\uff0c\u5341\u5206\u7eda\u4e3d\uff0c\u636e\u8bf4\u6301\u7eed\u6355\u83b7\u9c7c\u5996\uff0c\u6536\u96c6\u7684\u5996\u6c14\u4f1a\u5438\u5f15\u201c\u6df1\u6e0a\u9f99\u738b\u201d\u7684\u51fa\u73b0\u3002",level:4,deadEvent:0,resGroupId:17,shock:1,effectRotate:4,priority:17,chatVoiceType:1,chatBubble:"\u554a~\u5403\u6491\u4e86",voiceFile:6,fixedResource:0,frameRate:.013},602:{fishTypeId:"602",fishName:"\u9c7c\u59962",fishDesc:"\u9c7c\u5996\u4f17\u4e4b\u4e00\uff0c\u5438\u6536\u6df1\u6e0a\u9f99\u738b\u7684\u5996\u6c14\u540e\u53d8\u5316\u800c\u6210\uff0c\u559c\u8d22\uff0c\u8d2a\u73a9\uff0c\u662f\u5b83\u7684\u4e2a\u6027\uff0c\u559c\u6b22\u7528\u94b1\u5e01\u88c5\u9970\u81ea\u5df1\uff0c\u636e\u8bf4\u6301\u7eed\u6355\u83b7\u9c7c\u5996\uff0c\u6536\u96c6\u7684\u5996\u6c14\u4f1a\u5438\u5f15\u201c\u6df1\u6e0a\u9f99\u738b\u201d\u7684\u51fa\u73b0\u3002",level:4,deadEvent:0,resGroupId:18,shock:1,effectRotate:4,priority:18,chatVoiceType:1,chatBubble:"\u559c\u6b22\u4eba\u5bb6\u7684\u5c3e\u5df4\uff1f&&\u5c0f\u5fc3\u559c\u6b22\u4f1a\u81f4\u547d\u54e6~",voiceFile:7,fixedResource:0,frameRate:.013},603:{fishTypeId:"603",fishName:"\u9c7c\u59963",fishDesc:"\u9c7c\u5996\u4f17\u4e4b\u4e00\uff0c\u559c\u6b22\u9876\u7740\u805a\u5b9d\u76c6\u56db\u5904\u6e38\u8361\uff0c\u636e\u8bf4\u6301\u7eed\u6355\u83b7\u9c7c\u5996\uff0c\u6536\u96c6\u7684\u5996\u6c14\u4f1a\u5438\u5f15\u201c\u6df1\u6e0a\u9f99\u738b\u201d\u7684\u51fa\u73b0\u3002",level:4,deadEvent:0,resGroupId:19,shock:1,effectRotate:4,priority:19,chatVoiceType:1,chatBubble:"\u55ef\u54c8\u54c8\u54c8\u54c8",voiceFile:8,fixedResource:0,frameRate:.013},604:{fishTypeId:"604",fishName:"\u9c7c\u59964",fishDesc:"\u9c7c\u5996\u4f17\u4e4b\u4e00\uff0c\u53d8\u5f02\u9f99\u867e\uff0c\u5341\u5206\u5de8\u5927\uff0c\u559c\u6b22\u91d1\u95ea\u95ea\u7684\u989c\u8272\uff0c\u636e\u8bf4\u6301\u7eed\u6355\u83b7\u9c7c\u5996\uff0c\u6536\u96c6\u7684\u5996\u6c14\u4f1a\u5438\u5f15\u201c\u6df1\u6e0a\u9f99\u738b\u201d\u7684\u51fa\u73b0\u3002",level:4,deadEvent:0,resGroupId:20,shock:1,effectRotate:4,priority:20,chatVoiceType:1,chatBubble:"\u6211~\uff1f&&\u662f\u4f60\u60f9\u4e0d\u8d77\u7684~\uff01",voiceFile:9,fixedResource:0,frameRate:.013},605:{fishTypeId:"605",fishName:"\u9c7c\u59965",fishDesc:"\u9c7c\u5996\u4f17\u4e4b\u4e00\uff0c\u9b54\u9b3c\u9c7c\uff0c\u7531\u4e8e\u67d0\u79cd\u539f\u56e0\uff0c\u5168\u8eab\u8840\u6db2\u90fd\u5df2\u7ecf\u53d8\u6210\u91d1\u8272\uff0c\u636e\u8bf4\u6301\u7eed\u6355\u83b7\u9c7c\u5996\uff0c\u6536\u96c6\u7684\u5996\u6c14\u4f1a\u5438\u5f15\u201c\u6df1\u6e0a\u9f99\u738b\u201d\u7684\u51fa\u73b0\u3002",level:4,deadEvent:0,resGroupId:21,shock:1,effectRotate:4,priority:21,chatVoiceType:1,chatBubble:"\u8ff7\u5012\u7684\u5c31\u662f\u4f60",voiceFile:10,fixedResource:0,frameRate:.013},606:{fishTypeId:"606",fishName:"\u9c7c\u59966",fishDesc:"\u9c7c\u5996\u4f17\u4e4b\u4e00\uff0c\u706f\u7b3c\u9c7c\uff0c\u5b83\u7684\u7259\u9f7f\u5df2\u7ecf\u91d1\u8d28\u5316\uff0c\u5341\u5206\u950b\u5229\uff0c\u6536\u96c6\u7684\u5996\u6c14\u4f1a\u5438\u5f15\u201c\u6df1\u6e0a\u9f99\u738b\u201d\u7684\u51fa\u73b0\u3002",level:4,deadEvent:0,resGroupId:22,shock:1,effectRotate:4,priority:22,chatVoiceType:1,chatBubble:"\u5566\u5566\u5566\u5566\u5566~&&\u5566\u5566\u5566~\u5566\u5566\u5566~",voiceFile:11,fixedResource:0,frameRate:.013},701:{fishTypeId:"701",fishName:"\u95ea\u7535\u87f9",fishDesc:"\u95ea\u7535\u87f9\uff0c\u4f53\u5185\u542b\u6709\u7535\u6d41\u5143\u7d20\uff0c\u6355\u83b7\u65f6\uff0c\u53ef\u83b7\u5f97\u95ea\u7535\u70ae\u53f0\uff0c\u5bf9\u76ee\u6807\u6570\u6761\u9c7c\u9020\u6210\u8fde\u9501\u95ea\u7535\u6548\u679c\u3002",level:7,deadEvent:2,resGroupId:23,shock:0,effectRotate:1,priority:23,chatVoiceType:6,chatBubble:"\u989d\uff0c\u989d\u522b\uff0c\u522b\u522b\u522b",voiceFile:12,fixedResource:0,frameRate:.013},702:{fishTypeId:"702",fishName:"\u708e\u7206\u87f9",fishDesc:"\u708e\u7206\u87f9\uff0c\u4f53\u5185\u542b\u6709\u7206\u70b8\u5143\u7d20\uff0c\u6355\u83b7\u65f6\uff0c\u53ef\u83b7\u5f97\u708e\u7206\u70ae\u53f0\uff0c\u5bf9\u76ee\u6807\u9c7c\u53ca\u5176\u5468\u56f4\u9020\u6210\u5927\u8303\u56f4\u7206\u70b8\u7684\u6548\u679c\u3002",level:7,deadEvent:3,resGroupId:24,shock:0,effectRotate:1,priority:24,chatVoiceType:6,chatBubble:"\u751f\u6c14\u4e86\uff0c\u54fc\uff01",voiceFile:13,fixedResource:0,frameRate:.013},703:{fishTypeId:"703",fishName:"\u9f99\u606f\u87f9",fishDesc:"\u9f99\u606f\u87f9\uff0c\u4f53\u5185\u542b\u6709\u55b7\u5c04\u6027\u706b\u5143\u7d20\uff0c\u6355\u83b7\u65f6\uff0c\u53ef\u83b7\u5f97\u9f99\u606f\u70ae\u53f0\uff0c\u5bf9\u76f4\u7ebf\u8ddd\u79bb\u4e0a\u6240\u6709\u7ecf\u8fc7\u7684\u9c7c\u7c7b\u9020\u6210\u6548\u679c\u3002",level:7,deadEvent:4,resGroupId:25,shock:0,effectRotate:1,priority:25,chatVoiceType:6,chatBubble:"\u563f\u563f\uff1f\u56af\u56af~",voiceFile:14,fixedResource:0,frameRate:.013},704:{fishTypeId:"704",fishName:"\u8d1f\u5251\u87f9",fishDesc:"\u8d1f\u5251\u87f9\uff0c\u4f53\u5185\u542b\u6709\u6570\u4e2a\u5c16\u9510\u5229\u5668\uff0c\u6355\u83b7\u65f6\uff0c\u53ef\u83b7\u5f97\u4ed9\u5251\u70ae\u53f0\uff0c\u76f4\u7ebf\u98de\u884c\u5e76\u53cd\u5f39\uff0c\u6cbf\u9014\u523a\u51fb\u8def\u5f84\u4e0a\u7684\u9c7c\uff0c\u4e14\u6700\u7ec8\u4f1a\u8303\u56f4\u6027\u55b7\u5c04\u7ec6\u5251\uff0c\u518d\u6b21\u5bf9\u8303\u56f4\u5185\u9c7c\u7fa4\u9020\u6210\u523a\u51fb\u6548\u679c\u3002",level:7,deadEvent:5,resGroupId:26,shock:0,effectRotate:1,priority:26,chatVoiceType:6,chatBubble:"\u554a\u54c8\u54c8&&\u505a\u6761\u9c9c\u9c7c\u600e\u4e48\u6837\uff1f",voiceFile:15,fixedResource:0,frameRate:.013},801:{fishTypeId:"801",fishName:"\u805a\u5b9d\u76c6",fishDesc:"\u805a\u5b9d\u76c6\uff0c\u5185\u6709\u5927\u91cf\u91d1\u94f6\u8d22\u5b9d\uff0c\u6355\u83b7\u65f6\uff0c\u53ef\u83b7\u5f97\u6570\u91cf\u4e0d\u7b49\u7684\u91d1\u5e01\u3002",level:"8",deadEvent:6,resGroupId:27,shock:1,effectRotate:1,priority:27,chatVoiceType:1,chatBubble:"\u60f3\u4ec0\u4e48\u5462\uff1f\u670b\u53cb",voiceFile:16,fixedResource:1,frameRate:.013},802:{fishTypeId:"802",fishName:"\u7389\u5982\u610f",fishDesc:"\u5982\u610f\u5982\u610f\uff0c\u5982\u6211\u5fc3\u610f\uff0c\u6355\u83b7\u65f6\u53ef\u83b7\u5f97\u6570\u91cf\u4e0d\u7b49\u7684\u91d1\u5e01\uff0c\u4f46\u6709\u65f6\u5019\u4e0d\u5982\u610f\u3002",level:"8",deadEvent:7,resGroupId:28,shock:1,effectRotate:1,priority:28,chatVoiceType:1,chatBubble:"\u8bb0\u4f4f~\u4f60\u7684\u672a\u6765&&\u53ea\u80fd\u5c5e\u4e8e\u6211",voiceFile:17,fixedResource:1,frameRate:.013},901:{fishTypeId:"901",fishName:"\u8d22\u795e",fishDesc:"\u8d22\u795e\uff0c\u80cc\u7740\u4e00\u9ebb\u888b\u7684\u7ea2\u5305\u8d70\u6765\u8d70\u53bb\uff0c\u6355\u83b7\u8d8a\u591a\uff0c\u53ef\u83b7\u5f97\u7684\u7ea2\u5305\u6b21\u6570\u4e5f\u8d8a\u591a\u3002",level:"9",deadEvent:0,resGroupId:29,shock:1,effectRotate:0,priority:29,chatVoiceType:3,chatBubble:"\u8bf6\u563f~&&\u5bf9\u9762\u7684\u670b\u53cb\u770b\u8fc7\u6765~",voiceFile:18,fixedResource:0,frameRate:.013},902:{fishTypeId:"902",fishName:"\u7194\u5ca9\u7384\u6b66",fishDesc:"\u7194\u5ca9\u7384\u6b66\uff0c\u5168\u8eab\u8986\u76d6\u706b\u7ea2\u7684\u9f9f\u58f3\uff0c\u4e3a\u4e86\u957f\u671f\u9002\u5e94\u751f\u6d3b\u5728\u6d77\u5e95\u706b\u5c71\u533a\u57df\uff0c\u5df2\u7ecf\u5b8c\u5168\u8715\u53d8\uff0c\u5bff\u547d\u4e0d\u8be6\uff0c\u6355\u83b7\u65f6\uff0c\u89e6\u53d1\u5168\u5c4f\u7206\u70b8",level:"9",deadEvent:1,resGroupId:30,shock:1,effectRotate:4,priority:30,chatVoiceType:6,chatBubble:"\u597d~\u597d\u8212\u670d\u54c7\uff01\uff01\uff01",voiceFile:19,fixedResource:0,frameRate:.013},903:{fishTypeId:"903",fishName:"\u6df1\u6e0a\u9f99\u738b",fishDesc:"\u6050\u6016\u7684\u6df1\u6e0a\u9f99\u738b\uff0c\u5343\u4e07\u4e0d\u8981\u6fc0\u6012\u5b83\uff0c\u5426\u5219\u5c0f\u5fc3\u4f60\u7684\u94b1\u5e01\u2026\u2026",level:9,deadEvent:0,resGroupId:31,shock:1,effectRotate:4,priority:31,chatVoiceType:3,chatBubble:"\u5e74\u8f7b\u4eba,\u522b\u56e0\u4e3a&&\u5934\u8111\u53d1\u70ed\u7ad9\u9519\u961f",voiceFile:20,fixedResource:0,frameRate:.013}},cc._RF.pop()},{}],settingView:[function(e,t,i){"use strict";cc._RF.push(t,"bf1baTDDghIDJgq7MfxZYw9","settingView"),cc.Class({extends:cc.Component,start:function(){var e=this.node.getChildByName("layourt").getChildByName("speed_editbox"),t=this.node.getChildByName("layourt").getChildByName("runSpeed_editbox"),i=this.node.getChildByName("layourt").getChildByName("fishID_editbox"),n=this.node.getChildByName("layourt").getChildByName("groupID_editbox");e.getComponent(cc.EditBox).string=glGame.speed,i.getComponent(cc.EditBox).string=glGame.lineID,n.getComponent(cc.EditBox).string=glGame.startGroupIndex,e.on("text-changed",function(e){glGame.speed=Number(e.string)}),t.on("text-changed",function(e){glGame.runSpeed=Number(e.string)}),i.on("text-changed",function(e){glGame.lineID=Number(e.string)}),n.on("text-changed",function(e){glGame.startGroupIndex=Number(e.string)});var a=0,o=0;for(var r in glGame.FList){a++;var s=glGame.FList[r];for(var l in s.fishLine)o++}this.node.getChildByName("lab_info1").getComponent(cc.Label).string="\u5f53\u524d\u9c7c\u7ec4\u6570\u91cf\uff1a"+a,this.node.getChildByName("lab_info2").getComponent(cc.Label).string="\u5f53\u524d\u603b\u9c7c\u7ebf\uff1a"+o},closeView:function(){this.node.active=!1}}),cc._RF.pop()},{}]},{},["glob","Bezier","BezierData","Enum","EventListener","NodeEvents","drawBezier","Drag","LineItem","WindowDrag","editor","fishConst","fish_MovieClip","fish_Unit","settingView"]);
//# sourceMappingURL=project.js.map
